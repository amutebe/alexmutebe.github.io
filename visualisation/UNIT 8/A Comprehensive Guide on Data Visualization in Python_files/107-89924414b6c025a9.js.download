"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{89575:function(e,n,t){t.d(n,{Z:function(){return l},r:function(){return c}});var r=t(72006),i=t(16783),o=t.n(i),a=t(52682),u=t(12417);var c=o()((function(e){var n=e.map((function(e){return function(e){var n=e.tags.map((function(e){var n=a.pJ[e.name];return e.modifiers?(e.modifiers.forEach((function(e){var t=a.pJ[e];n=t(n)})),n):n}));return(0,r.Z)({tag:n},e.values)}(e)}));return u.Qf.define(n)}),(function(e){return JSON.stringify(e)}));function l(e){return(0,u.nF)(c(e))}},94435:function(e,n,t){t.d(n,{R:function(){return o}});var r=t(66091),i=t(57988),o=function(){function e(n){(0,r.Z)(this,e),this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}var n=e.prototype;return n.syncTo=function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length},n.chunk=function(e){return this.syncTo(e),this.string},n.read=function(e,n){var t=this.cursorPos-this.string.length;return e<t||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-t,n-t)},(0,i.Z)(e,[{key:"length",get:function(){return this.doc.length}},{key:"lineChunks",get:function(){return!0}}]),e}()},18599:function(e,n,t){t.d(n,{CT:function(){return s},SJ:function(){return l},gj:function(){return c}});var r=t(81962),i=t(12417),o=t(14806),a=t(52682),u=t(94435);function c(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t].text!==n[t].text||(e[t].tags||"")!==(n[t].tags||""))return!1;return!0}function l(e,n,t){if(!e)return[[{text:""}]];n&&(0,r.Z)(n,o.yy)&&(n=f(n));var i=o.xv.of(e.split("\n"));if(!n||!t){var a=[],c=!0,l=!1,d=void 0;try{for(var h,p=i.iterLines()[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value;a.push([{text:v}])}}catch(g){l=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(l)throw d}}return a}return s(t.parse(new u.R(i)),i,n)}function s(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.length;(0,r.Z)(t,o.yy)&&(t=f(t));for(var u=[],c=1;c<=n.lines;c++){var l=n.line(c);if(!(l.to<i)){if(l.from>a)break;u.push(d(l,e,t,i,a))}}return u}function d(e,n,t,r,i){if(""===e.text)return[{text:""}];if(r=void 0===r?e.from:Math.max(e.from,r),i=void 0===i?e.to:Math.min(e.to,i),r>=e.to||i<=e.from)return[{text:""}];var o=[],u=r;return(0,a.bW)(n,t,(function(n,t,r){n>u&&o.push({text:h(e,u,n)}),o.push({text:h(e,n,t),tags:r}),u=t}),r,i),u<i&&o.push({text:h(e,u,i)}),o}function f(e){return{style:function(n){return(0,i.QN)(e,n)}}}function h(e,n,t){return e.text.slice(n-e.from,t-e.from)}},24025:function(e,n,t){var r=t(72006),i=t(4405),o=t(77637),a=t(74985),u=t(92355),c=t(19201);n.Z=function(e){var n=e.children,t=(0,o.Z)(e,["children"]),l=!(0,u.T)()&&!1!==t.animate;return(0,a.tZ)(c.ZP,(0,i.Z)((0,r.Z)({},t),{animate:l,children:n}))}},14260:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(74985),i=(t(50959),t(70844)),o=t(21769),a=t(6191),u=t(74768),c=t(48960),l=Array.prototype.concat,s=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},d=function(e){return"file"===e.kind},f=function(e){return"function"===typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null},h=function(e){return l.apply([],e)},p=function(e,n,t,r){var i;return i=e.isDirectory?n.recursive?v(e,n,t+1,(0,c.join)(r,e.name)):Promise.resolve([]):function(e){return new Promise((function(n,t){e.file?e.file(n,t):n(null)})).catch((function(){return null}))}(e).then((function(e){return e&&(e.dirPath=(0,c.join)(r,e.name)),e?[e]:[]})),i},v=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.name;return e&&t<n.bail&&e.isDirectory&&e.createReader?new Promise((function(i){e.createReader().readEntries((function(e){return Promise.all(e.map((function(e){return p(e,n,t,r)}))).then((function(e){return i(h(e))}))}),(function(){return i([])}))})):Promise.resolve([])},g=v,m=function(e,n){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(f(e),s(n))}(e,n).then((function(n){if(!n.length){var t=e.getAsFile();n=t?[t]:n}return n}))};var y={dragDropManager:(0,i.i)((function(e){var n=(0,o.PD)(e),t=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var r,i=n.monitor.getItemType();i===a.HTML||i===a.TEXT?(n.dropTargetIds=[],null===(r=n.currentNativeSource)||void 0===r||r.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):t.call(n,e);n.currentNativeSource&&(n.currentNativeSource.item.dirContent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=s(n),new Promise((function(t){var r,i;(null===e||void 0===e||null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(h(e.dataTransfer.items).filter((function(e){return d(e)})).map((function(e){return m(e,n)}))).then((function(e){return t(h(e))})):(null===e||void 0===e||null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?t(h(e.dataTransfer.files)):t([])}))}(e,{recursive:!0}))},n}))};function b(e){return(0,r.tZ)(u.L.Provider,{value:y,children:e.children})}},89025:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(2272),i=t(74985),o=t(50959),a=t(45510),u=t(39137),c=t(85368),l=t(61284),s=t(39541);function d(e){var n=e.prompt,t=e.desc,d=e.type,f=e.placeholder,h=e.confirmText,p=e.loading,v=e.errorMessage,g=e.onCancel,m=e.onConfirm,y=e.isDanger,b=e.buttonIcon,x=(0,r.Z)(o.useState(),2),w=x[0],Z=x[1];return(0,i.BX)(c.G,{css:[s.l0.colWithGap(24)],children:[(0,i.tZ)(l.h4,{variant:"headerDefault",level:2,children:n}),(0,i.tZ)(l.xv,{multiline:!0,children:t}),(0,i.tZ)(u.II,{type:d,value:w,placeholder:f,autoFocus:!0,onChange:function(e){return Z(e.target.value)}}),v?(0,i.tZ)(l.xv,{css:[s.l0.color.accentNegativeStronger],children:v}):null,(0,i.BX)(c.G,{css:[s.l0.rowWithGap(12),s.l0.justify.end],children:[(0,i.tZ)(a.zx,{disabled:p,onClick:g,text:"Cancel"}),(0,i.tZ)(a.zx,{colorway:y?"negative":"primary",disabled:p,onClick:function(){return w&&m(w)},text:h||"Ok",iconLeft:b,dataCy:"prompt-confirm-button"})]})]})}},29203:function(e,n,t){t.d(n,{$X:function(){return d},S2:function(){return f},Uu:function(){return c},c1:function(){return s},wM:function(){return l}});var r=t(74985),i=t(33523),o=t(42445),a=t(50959),u=(0,a.createContext)(void 0);function c(){var e=(0,a.useContext)(u);if(!e)throw new Error("Expected store in ghostwriter chat context");return e}function l(e){return(0,i.KO)(e,{store:c()})}function s(e){return(0,i.Dv)(e,{store:c()})}function d(e){return(0,i.b9)(e,{store:c()})}function f(e){var n=e.children,t=(0,a.useRef)();return t.current||(t.current=(0,o.MT)()),(0,r.tZ)(u.Provider,{value:t.current,children:n})}},57370:function(e,n,t){t.d(n,{d:function(){return s}});var r=t(72006),i=t(43119),o=t(71440),a=t(89649);function u(){var e=(0,i.Z)(["\n  query CurrentUserId {\n    currentUser {\n      id\n    }\n  }\n"]);return u=function(){return e},e}var c={},l=(0,o.Ps)(u());function s(){var e,n=function(e){var n=(0,r.Z)({},c,e);return a.a(l,n)}().data;return(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.id)||null}},77478:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(50959);function i(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],o=(0,r.useRef)(0),a=(0,r.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),o.current++,i(!0)},onDragLeave:function(e){e.preventDefault(),o.current--,0===o.current&&i(!1)},onDrop:function(n){var t,r;n.preventDefault(),o.current=0,i(!1),n.persist();var a=Array.from(null!==(r=null===n||void 0===n||null===(t=n.dataTransfer)||void 0===t?void 0:t.files)&&void 0!==r?r:[]);0!==a.length?e(a):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e]);return[t,a]}},48749:function(e,n,t){t.d(n,{B:function(){return p},FF:function(){return d},R$:function(){return v}});var r=t(57135),i=t(2272),o=t(96583),a=t(27562),u=t(45285),c=t(18180),l=t(62946),s=t(50959),d=(0,l.cn)("unknown");function f(e){var n,t,r,i;if(e.error)return"unknown";var o,a,u,c="unknown";if((null===(n=e.config.interpreter)||void 0===n||null===(t=n.command)||void 0===t?void 0:t.args)&&(null===(o=e.config.interpreter)||void 0===o||null===(a=o.command)||void 0===a||a.args.forEach((function(e){/nodejs/.test(e)?c="nodejs":/python3/.test(e)&&(c="python3")})),"unknown"!==c))return c;if((null===(r=e.config.run)||void 0===r?void 0:r.args)&&(null===(u=e.config.run)||void 0===u||u.args.forEach((function(e){/vite/.test(e)?c="vite":/node|npm/.test(e)?c="nodejs":/python3/.test(e)&&(c="python3")})),"unknown"!==c))return c;if(null===(i=e.config.packager)||void 0===i?void 0:i.language){var l,s=null===(l=e.config.packager)||void 0===l?void 0:l.language;if(/nodejs/.test(s)?c="nodejs":/python3/.test(s)&&(c="python3"),"unknown"!==c)return c}return"unknown"}function h(e){var n="unknown";return/nodejs|typescript/.test(e)?n="nodejs":/python3/.test(e)&&(n="python3"),n}function p(){var e=(0,u.Z)().dotReplit,n=(0,a.Z)(),t=(0,c.d)(),p=(0,i.Z)((0,l.KO)(d),2)[1];(0,s.useEffect)((function(){function i(){return(i=(0,r.Z)((function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t?[4,e.getConfig()]:[2];case 1:r=o.sent();try{return i="unknown","unknown"===(i=f(r))&&(i=h(n)),p(i),[2,i]}catch(a){p("unknown")}return[2]}}))}))).apply(this,arguments)}return function(){i.apply(this,arguments)}(),function(){p("unknown")}}),[e,t,n,p])}function v(){return(0,l.Dv)(d)}},13525:function(e,n,t){t.d(n,{b:function(){return i}});var r=t(18171);function i(e,n){return(0,r.Z)((function(){return{get current(){return n.get(e)},subscribe:function(t){return n.sub(e,(function(){return t(n.get(e))}))}}}),[n,e])}},27562:function(e,n,t){t.d(n,{T:function(){return a},Z:function(){return o}});var r=t(50959),i=t(48506);function o(){var e=r.useContext(i.Z);if(!e)throw new Error("Expected Repl info to be in context");return e.language}function a(){return o().startsWith("html")}},10628:function(e,n,t){t.d(n,{f:function(){return o}});var r=t(9970),i=1e4;function o(e,n){for(var t=0;t<n.length;t+=i){var o;(o=e).push.apply(o,(0,r.Z)(n.slice(t,t+i)))}}},57417:function(e,n,t){t.d(n,{b:function(){return l}});var r=t(2272),i=t(33024),o=t.n(i),a=t(30826),u=t.n(a);function c(e,n,t){return Math.floor(Math.min(n,Math.max(e,t)))}function l(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},i=t.scrollZoneSize,a=t.scrollVelocity,l=t.scrollUpdateThrottle,s=u()((function(){var t=n.getClientOffset();if(!t)return[0,0];var u=t.x,c=t.y,l=e.getBoundingClientRect(),s=l.x,d=l.y,f=l.width,h=l.height,p=Math.min(f/2,i.w),v=Math.min(h/2,i.h),g=[[d,d+v],[d+h-v,d+h]],m=function(e,n){var t=(0,r.Z)(n,2),i=t[0],a=t[1];return o()(e,i[0],i[1])?(e-i[1])/(i[1]-i[0]):o()(e,a[0],a[1])?(e-a[0])/(a[1]-a[0]):0};return[m(u,[[s,s+p],[s+f-p,s+f]])*a.x,m(c,g)*a.y]}),l,{trailing:!1}),d=s();if(d){var f=(0,r.Z)(d,2),h=f[0],p=f[1];if(0!==h||0!==p){var v=e.scrollLeft,g=e.scrollTop,m=e.scrollWidth,y=e.scrollHeight,b=e.clientWidth,x=e.clientHeight,w=function(){e.scrollTop=c(0,m-b,v+h),e.scrollTop=c(0,y-x,g+p)};requestAnimationFrame(w)}}}},4853:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(57135),i=t(96583),o=t(87978);function a(e,n){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((function(e,n){var t,r,a;return(0,i.__generator)(this,(function(i){return t=(0,o.yC)(e),r=(0,o.UO)(e),(a=document.createElement("a")).setAttribute("href","data:".concat(t,";base64,").concat(n.toString("base64"))),a.setAttribute("download",r),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),[2]}))}))).apply(this,arguments)}},5894:function(e,n,t){t.d(n,{Fp:function(){return r},Fv:function(){return a},HH:function(){return o},hI:function(){return i}});var r="gpt-3.5-turbo-0613",i=["package.json","package-lock.json","yarn.lock","poetry.lock","package.json","package-lock.json",".replit","replit.nix","pyproject.toml",".breakpoints"],o=[".md",".yml",".yaml",".json",".toml",".out",".pkl",".bin",".txt",".csv",".log"],a=["node_modules",".config","venv",".next",".git"]},11796:function(e,n,t){t.d(n,{U:function(){return d},n:function(){return l}});var r=t(88733),i=t(73012),o=t(11858),a=t(96583);function u(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((function(e){var n,t,r,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:return[4,(0,i.Z)(n.read())];case 2:return t=a.sent(),r=t.done,o=t.value,r?[3,4]:[4,o];case 3:return a.sent(),[3,1];case 4:return n.releaseLock(),[2]}}))}))).apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((function(e){var n,t,o,c,l,s,d,f,h;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n=new TextDecoder("utf-8"),t=!1,o=!1,a.label=1;case 1:a.trys.push([1,7,8,13]),l=(0,r.Z)(u(e)),a.label=2;case 2:return[4,(0,i.Z)(l.next())];case 3:return(t=!(s=a.sent()).done)?(d=s.value,f=d,[4,n.decode(f,{stream:!0})]):[3,6];case 4:a.sent(),a.label=5;case 5:return t=!1,[3,2];case 6:return[3,13];case 7:return h=a.sent(),o=!0,c=h,[3,13];case 8:return a.trys.push([8,,11,12]),t&&null!=l.return?[4,l.return()]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(o)throw c;return[7];case 12:return[7];case 13:return[2]}}))}))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)((function(e){var n,t,o,u,c,l,s,d,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n="",t=!1,o=!1,a.label=1;case 1:a.trys.push([1,7,8,13]),c=(0,r.Z)(e),a.label=2;case 2:return[4,(0,i.Z)(c.next())];case 3:return(t=!(l=a.sent()).done)?(s=l.value,(d=s).endsWith("\n\n")?[4,n+d]:(n+=d,[3,5])):[3,6];case 4:a.sent(),n.length>0&&(n=""),a.label=5;case 5:return t=!1,[3,2];case 6:return[3,13];case 7:return f=a.sent(),o=!0,u=f,[3,13];case 8:return a.trys.push([8,,11,12]),t&&null!=c.return?[4,c.return()]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(o)throw u;return[7];case 12:return[7];case 13:return[2]}}))}))).apply(this,arguments)}},20841:function(e,n){n.Z={sandbox:"allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-modals allow-downloads allow-downloads-without-user-activation allow-presentation allow-orientation-lock allow-scripts",allow:"accelerometer; ambient-light-sensor; autoplay; battery; camera; display-capture; encrypted-media; execution-while-not-rendered; execution-while-out-of-viewport; fullscreen; gamepad; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; navigation-override; oversized-images; payment; picture-in-picture; publickey-credentials; speaker-selection; sync-xhr; unoptimized-images; unsized-media; usb; screen-wake-lock; web-share; xr-spatial-tracking; clipboard-read; clipboard-write",allowFullScreen:!0,allowtransparency:"true",allowpaymentrequest:"true"}},13474:function(e,n,t){var r;t.d(n,{y:function(){return r}}),function(e){e.Welcome="Welcome",e.Editor="Editor",e.Examples="Examples",e.Run="Run",e.Output="Output",e.Sidepane="Sidepane",e.Share="Share",e.SidebarButton="SidebarButton",e.GlobalNavButton="GlobalNavButton",e.NotificationsButton="NotificationsButton",e.AvatarButton="AvatarButton",e.SidebarAnnouncement="SidebarAnnouncement",e.Feedback="Feedback"}(r||(r={}))},12171:function(e,n,t){t.d(n,{I6:function(){return s},bG:function(){return f},fp:function(){return u},gN:function(){return c},gU:function(){return p},g_:function(){return l},pl:function(){return h},x6:function(){return d}});var r=t(92674),i=t.n(r),o=t(88161);function a(e){var n=e.data;if(!(0,o.CF)(n)||n.messageDirection!==o.s1.FROM_NATIVE)return null;if(n.protocolVersion!==o.Wj)throw new Error("Invalid protocolVersion: ".concat(n.protocolVersion," != ").concat(o.Wj));return n}function u(e,n){var t=a(e);if(null!=t){var r=t.payload.messageType;switch(r){case o.cF.TEXT_EDITOR_STATE_REQUEST:case o.cF.REQUEST_SET_SELECTION:case o.cF.REQUEST_REPLACE_SELECTION:case o.cF.REQUEST_SET_TEXT:case o.cF.REQUEST_INSERT_TEXT:case o.cF.REQUEST_PASTE_TEXT:case o.cF.TEXT_EDITOR_REQUEST_ACTION:n({type:r,bridgeMessage:t})}}}function c(e,n){var t=a(e);if(null!=t){var r=t.payload.messageType;switch(r){case o.cF.SHELL_INSERT_INPUT:n({type:r,id:t.messageId,input:t.payload.input});break;case o.cF.SHELL_COMMAND:n({type:r,id:t.messageId,command:t.payload.command});break;case o.cF.SHELL_PASTE_TEXT:n({type:r,id:t.messageId,text:t.payload.text})}}}function l(e,n){var t=a(e);if(null!=t){var r=t.payload.messageType;if(r===o.cF.GIT_REFRESH_GITHUB_CONNECTION)n({type:r,bridgeMessage:t})}}function s(e,n){var t=a(e);if(null!=t){var r=t.payload.messageType;switch(r){case o.cF.GHOSTWRITER_CHAT_SEND:n({type:r,id:t.messageId,chatMessage:t.payload.message});break;case o.cF.GHOSTWRITER_CHAT_ABORT_RESPONSE:n({type:r,id:t.messageId})}}}function d(e,n){var t=a(e);if(null!=t){var r=t.payload.messageType;switch(r){case o.cF.SET_KEYBOARD_STATE:n({type:r,keyboardState:{isShown:t.payload.isShown,height:t.payload.height}});break;case o.cF.WORKSPACE_REQUEST_ACTION:n({type:r,action:t.payload.action});break;case o.cF.WORKSPACE_REQUEST_OPEN_PANE:n({type:r,id:t.messageId,paneType:t.payload.paneType})}}}function f(e,n){var t={protocolVersion:o.Wj,messageDirection:o.s1.TO_NATIVE,messageId:n,payload:e};"ReactNativeWebView"in window&&null!=window.ReactNativeWebView&&window.ReactNativeWebView.postMessage?window.ReactNativeWebView.postMessage(JSON.stringify(t)):window.postMessage(t,window.origin)}function h(e){var n=null!==e&&void 0!==e?e:i()();f({messageType:o.cF.ERROR},n)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()(),n={messageType:o.cF.ACK};f(n,e)}},88161:function(e,n,t){t.d(n,{CF:function(){return T},H7:function(){return g},Of:function(){return o},Se:function(){return y},T$:function(){return w},Wj:function(){return l},aB:function(){return Z},ac:function(){return x},b9:function(){return a},cF:function(){return r},fz:function(){return m},m7:function(){return b},s1:function(){return i}});var r,i,o,a,u=t(70232),c=t(44945);!function(e){e.ERROR="ERROR",e.ACK="ACK",e.RESET="RESET",e.DEBUG="DEBUG",e.TEXT_EDITOR_CLOSED="TEXT_EDITOR_CLOSED",e.TEXT_EDITOR_STATE="WORKSPACE_STATE",e.TEXT_EDITOR_STATE_REQUEST="WORKSPACE_STATE_REQUEST",e.WORKSPACE_STATE="WORKSPACE_STATE1",e.WORKSPACE_STATE_REQUEST="WORKSPACE_STATE_REQUEST1",e.REQUEST_SET_SELECTION="REQUEST_SET_SELECTION",e.REQUEST_REPLACE_SELECTION="REQUEST_REPLACE_SELECTION",e.REQUEST_SET_TEXT="REQUEST_SET_TEXT",e.REQUEST_INSERT_TEXT="REQUEST_INSERT_TEXT",e.REQUEST_PASTE_TEXT="REQUEST_PASTE_TEXT",e.TEXT_EDITOR_REQUEST_ACTION="TEXT_EDITOR_REQUEST_ACTION",e.WORKSPACE_REQUEST_ACTION="WORKSPACE_REQUEST_ACTION",e.SET_KEYBOARD_STATE="SET_KEYBOARD_STATE",e.WORKSPACE_REQUEST_OPEN_PANE="WORKSPACE_REQUEST_OPEN_PANE",e.SHELL_INSERT_INPUT="SHELL_INSERT_INPUT",e.SHELL_COMMAND="SHELL_COMMAND",e.SHELL_PASTE_TEXT="SHELL_PASTE_TEXT",e.GIT_REFRESH_GITHUB_CONNECTION="GIT_REFRESH_GITHUB_CONNECTION",e.GHOSTWRITER_CHAT_SEND="GHOSTWRITER_CHAT_SEND",e.GHOSTWRITER_CHAT_ABORT_RESPONSE="GHOSTWRITER_CHAT_ABORT_RESPONSE",e.GHOSTWRITER_CHAT_FOCUS_INPUT="GHOSTWRITER_CHAT_FOCUS_INPUT",e.GHOSTWRITER_CHAT_STATE="GHOSTWRITER_CHAT_STATE"}(r||(r={})),function(e){e.FROM_NATIVE="FROM_NATIVE",e.TO_NATIVE="TO_NATIVE"}(i||(i={})),function(e){e.OPEN_FILETREE="OPEN_FILETREE",e.OPEN_NEW_PANE="OPEN_NEW_PANE",e.TOGGLE_DRAWER="TOGGLE_DRAWER",e.TOGGLE_ALLPANES="TOGGLE_ALLPANES",e.TOGGLE_RUN_STATE="TOGGLE_RUN_STATE"}(o||(o={})),function(e){e.REQUEST_UNDO="REQUEST_UNDO",e.REQUEST_REDO="REQUEST_REDO",e.REQUEST_BLUR="REQUEST_BLUR",e.REQUEST_FOCUS="REQUEST_FOCUS",e.REQUEST_INDENT_SELECTION="REQUEST_INDENT_SELECTION",e.REQUEST_DEDENT_SELECTION="REQUEST_DEDENT_SELECTION",e.REQUEST_TOGGLE_COMMENT="REQUEST_TOGGLE_COMMENT",e.REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION="REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION"}(a||(a={}));var l="1";function s(e){return null!==e&&void 0!==e&&"string"===typeof e}function d(e){return s(e)||null===e}function f(e){return null!==e&&void 0!==e&&"boolean"===typeof e}function h(e){return null!=e&&"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)&&Number.isSafeInteger(e)&&e>=0}function p(e){return null!=e&&("object"===typeof e&&null!=e&&("location"in e&&"length"in e&&h(e.location)&&h(e.length)))}function v(e){return null!=e&&(!!Array.isArray(e)&&!!e.every((function(e){return p(e)})))}function g(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"isDrawerOpen"in e&&"isShowingAllPanes"in e&&"isSaving"in e&&"isOffline"in e&&"runState"in e&&"activePaneType"in e&&"activePaneFilePath"in e&&e.messageType===r.WORKSPACE_STATE&&f(e.isDrawerOpen)&&f(e.isShowingAllPanes)&&f(e.isSaving)&&f(e.isOffline)&&s(e.runState)&&d(e.activePaneType)&&d(e.activePaneFilePath)))}function m(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"revisionId"in e&&"text"in e&&e.messageType===r.REQUEST_REPLACE_SELECTION&&s(e.filePath)&&s(e.revisionId)&&s(e.text)))}function y(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_SET_SELECTION&&s(e.filePath)&&v(e.selections)&&s(e.revisionId)))}function b(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_SET_TEXT&&s(e.filePath)&&s(e.text)&&v(e.selections)&&s(e.revisionId)))}function x(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"insertionRange"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_INSERT_TEXT&&s(e.filePath)&&s(e.text)&&p(e.insertionRange)&&v(e.selections)&&s(e.revisionId)))}function w(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"revisionId"in e&&e.messageType===r.REQUEST_PASTE_TEXT&&s(e.filePath)&&s(e.text)&&s(e.revisionId)))}function Z(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"revisionId"in e&&"filePath"in e&&"action"in e&&e.messageType===r.TEXT_EDITOR_REQUEST_ACTION&&s(e.revisionId)&&s(e.filePath)&&s(e.action)))}function E(e){var n=c.z.object({messageType:c.z.nativeEnum(r)}).safeParse(e);if(!n.success)return!1;var t=n.data.messageType;switch(t){case r.ERROR:case r.ACK:case r.RESET:return!0;case r.TEXT_EDITOR_CLOSED:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"filePath"in e&&e.messageType===r.TEXT_EDITOR_CLOSED&&s(e.filePath)}(e);case r.TEXT_EDITOR_STATE:case r.TEXT_EDITOR_STATE_REQUEST:case r.WORKSPACE_STATE:case r.WORKSPACE_STATE_REQUEST:case r.WORKSPACE_REQUEST_OPEN_PANE:return!0;case r.REQUEST_SET_SELECTION:return y(e);case r.REQUEST_SET_TEXT:return b(e);case r.REQUEST_INSERT_TEXT:return x(e);case r.REQUEST_PASTE_TEXT:return w(e);case r.REQUEST_REPLACE_SELECTION:return m(e);case r.TEXT_EDITOR_REQUEST_ACTION:return Z(e);case r.WORKSPACE_REQUEST_ACTION:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"action"in e&&e.messageType===r.WORKSPACE_REQUEST_ACTION&&s(e.action)}(e);case r.SET_KEYBOARD_STATE:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"isShown"in e&&"height"in e&&e.messageType===r.SET_KEYBOARD_STATE&&f(e.isShown)&&function(e){return null!==e&&void 0!==e&&"number"===typeof e}(e.height)}(e);case r.SHELL_INSERT_INPUT:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"input"in e&&e.messageType===r.SHELL_INSERT_INPUT&&s(e.input)}(e);case r.SHELL_COMMAND:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"command"in e&&e.messageType===r.SHELL_COMMAND&&s(e.command)}(e);case r.SHELL_PASTE_TEXT:return function(e){return c.z.object({messageType:c.z.nativeEnum(r),text:c.z.string()}).safeParse(e).success}(e);case r.GIT_REFRESH_GITHUB_CONNECTION:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&e.messageType===r.GIT_REFRESH_GITHUB_CONNECTION}(e);case r.GHOSTWRITER_CHAT_SEND:return function(e){return!!c.z.object({messageType:c.z.nativeEnum(r),message:c.z.string()}).safeParse(e).success}(e);case r.GHOSTWRITER_CHAT_ABORT_RESPONSE:case r.GHOSTWRITER_CHAT_FOCUS_INPUT:return!0;case r.GHOSTWRITER_CHAT_STATE:return function(e){return!!c.z.object({messageType:c.z.nativeEnum(r),chatInputText:c.z.optional(c.z.string()),showStopGenerating:c.z.boolean(),isSending:c.z.boolean(),characterLimit:c.z.number()}).safeParse(e).success}(e);case r.DEBUG:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"debugMessage"in e&&e.messageType===r.DEBUG&&s(e.debugMessage)}(e);default:(0,u.Z)(t)}}function T(e){return null!=e&&("object"===typeof e&&null!=e&&("protocolVersion"in e&&"messageDirection"in e&&"messageId"in e&&"payload"in e&&s(e.protocolVersion)&&s(e.messageDirection)&&s(e.messageId)&&E(e.payload)))}},32033:function(e,n,t){t.d(n,{sI:function(){return s},wP:function(){return f}});var r=t(72006),i=t(43119),o=t(71440),a=t(48017);function u(){var e=(0,i.Z)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    lastPublishedAt\n    currentUserPermissions {\n      changeImageUrl\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,i.Z)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var l={},s=(0,o.Ps)(u()),d=(0,o.Ps)(c());function f(e){var n=(0,r.Z)({},l,e);return a.D(d,n)}},69849:function(e,n,t){t.d(n,{Z:function(){return I},y:function(){return R}});var r=t(72006),i=t(4405),o=t(2272),a=t(74985),u=t(50959),c=t(77478),l=t(39541),s=t(85368),d=t(45510),f=t(54873),h=t(43117),p=t(2041),v=t(32033),g=t(254),m=t(87076),y=t(5889),b=t(43312),x=t(61284),w=t(88467),Z=t(8023),E=t(32905),T=t(48610),S=t(40735),C=(0,b.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function R(e){var n=e.src,t=e.alt;return(0,a.BX)(s.G,{css:[C,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,a.tZ)(y.Z,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,a.tZ)(s.G,{css:[C,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function k(e){var n=e.onClick;return(0,a.tZ)(s.G,{onClick:n,css:[C,l.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:l.TV.shadowDefault}}],children:(0,a.tZ)(S.Z,{color:l.TV.white})})}function D(e){var n=e.isPublished,t=e.onChangeClick,r=e.onRemoveClick,i=(0,o.Z)(u.useState(!1),2),c=i[0],v=i[1];return(0,a.BX)(s.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,a.tZ)(d.zx,{onClick:function(e){e.stopPropagation(),t()},text:"Change image"}),n?(0,a.tZ)(m.h,{alt:"Cannot remove cover image of a published Repl",disabled:!0,colorway:"negative",children:(0,a.tZ)(f.Z,{})}):null,n?null:(0,a.tZ)(s.G,{children:(0,a.tZ)(m.h,{alt:"Remove Image",colorway:"negative",onClick:function(){v(!0)},children:(0,a.tZ)(f.Z,{})})}),(0,a.tZ)(p.u,{isOpen:c,onRequestClose:function(){return v(!1)},children:(0,a.tZ)(h.Z,{confirmLabel:"Yes, remove this image",title:"Remove image",isDestructive:!0,onConfirm:function(){r(),v(!1)},onCancel:function(){return v(!1)},children:"This will remove your Repl\u2019s cover image. You can always add one back at any time."})})]})}function A(e){var n=e.onClick,t=e.isActive;return(0,a.BX)(s.G,{css:[l.l0.colWithGap(16),l.l0.center],children:[(0,a.BX)(s.G,{css:[l.l0.colWithGap(8),l.l0.center],children:[(0,a.tZ)(s.G,{css:[{"> svg":{width:44,height:"auto"}},t&&{color:l.TV.accentPrimaryDefault}],children:(0,a.tZ)(w.Z,{})}),(0,a.tZ)(x.xv,{children:"Drag and drop a cover image"})]}),(0,a.tZ)(s.G,{children:(0,a.tZ)(d.zx,{onClick:n,iconLeft:(0,a.tZ)(T.Z,{}),colorway:"primary",text:"Or select a file"})})]})}function I(e){var n=e.onClick,t=e.repl,d=function(e){if(null!==e&&0!==e.length){var n=e.find((function(e){return e.type.startsWith("image/")}));n?(m(null),w.uploadImage(n,E.N.ReplCoverImage)):m("Expected an image file")}},f=u.useRef(null),h=(0,o.Z)(u.useState(null),2),p=h[0],m=h[1],y=(0,o.Z)(u.useState(t.imageUrl),2),b=y[0],x=y[1],w=(0,g.Z)({onUpload:function(e){var n=e.url;T({variables:{input:{id:t.id,imageUrl:n}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,i.Z)((0,r.Z)({},t),{imageUrl:n})}}})},onUploadPreview:function(e){var n=e.dataUrl;x(n)},onError:function(e){m(e.message)}}),T=(0,o.Z)((0,v.wP)({onCompleted:function(e){m(null),x(e.updateRepl.repl.imageUrl)}}),1)[0],S=t.currentUserPermissions.changeImageUrl,C=(0,o.Z)((0,c.Z)(d),2),I=C[0],N=C[1],P=!b&&S;return(0,u.useEffect)((function(){x(t.imageUrl)}),[t.id]),(0,a.BX)(s.G,(0,i.Z)((0,r.Z)({css:[l.l0.center,l.l0.flex.growAndShrink(1),!P&&{backgroundColor:l.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},N),{children:[b?(0,a.tZ)(R,{src:b,alt:t.title}):null,P?null:(0,a.tZ)(k,{onClick:n}),b&&S?(0,a.BX)(s.G,{className:"image-controls",css:[{position:"absolute",top:l.TV.space8,right:l.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,a.tZ)(D,{onChangeClick:function(){var e;null===(e=f.current)||void 0===e||e.click()},onRemoveClick:function(){T({variables:{input:{id:t.id,imageUrl:null}}})},isPublished:Boolean(t.lastPublishedAt)}),p?(0,a.tZ)("div",{className:"error",children:p}):null]}):null,P?(0,a.tZ)(A,{isActive:I,onClick:function(){var e;null===(e=f.current)||void 0===e||e.click()}}):null,S?(0,a.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:f,accept:Z.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&d(r?Array.from(r):null)}}):null]}))}},89448:function(e,n,t){t.d(n,{D:function(){return r},V:function(){return o}});var r,i=t(87978);function o(e){return(0,i.gK)(e)?r.Markdown:(0,i.sL)(e)?r.Draw:(0,i.IQ)(e)?r.Pedit:(0,i.T3)(e)?r.Media:r.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(r||(r={}))},60141:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(57389),i=t(72006),o=t(4405),a=t(74985),u=t(90349),c=t(85368),l=t(39541),s=t(66539),d=t(82568),f=(0,t(68973).$)(["size","fontSize","listGap","iconTextGap","avatarOverlap","tooltipFontSize"]),h=f.styleTokens,p=f.cssVars,v=(0,d.X)({avatarsRow:[l.l0.flex.row,{"& > *":{marginLeft:"calc(-0.4 * ".concat(h.size,")")},"& > *:first-child":{marginLeft:0}}],countCirlce:[l.l0.center,l.l0.overflow("hidden"),l.l0.backgroundColor.backgroundDefault,l.l0.color.foregroundDimmer,l.l0.px(2),{borderRadius:"50%",minWidth:h.size,height:h.size,fontSize:h.fontSize}],tooltop:[{gap:h.listGap,gridTemplateColumns:"repeat(auto-fill, 200px)"}],tooltipRow:[l.l0.rowWithGap(l.TV.space2),l.l0.align.center],tooltipText:[l.l0.flex.growAndShrink(1),l.l0.truncate,l.l0.color.foregroundDimmer,{paddingLeft:h.iconTextGap,fontSize:h.tooltipFontSize}],stackItem:[]}),g={12:{fontSize:8,listGap:2,iconTextGap:2,tooltipAvatarSize:12,tooltipFontSize:8},16:{fontSize:10,listGap:2,iconTextGap:2,tooltipAvatarSize:16,tooltipFontSize:10},24:{fontSize:12,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:12},32:{fontSize:14,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:14},40:{fontSize:16,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14},48:{fontSize:24,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14}};function m(e){var n,t,l,d,f,h,m,y,b,x=e.activeUsers,w=e.visibleNumOfUsers,Z=void 0===w?3:w,E=e.size,T=void 0===E?24:E,S=x.length,C=(b={},(0,r.Z)(b,p.size,T+"px"),(0,r.Z)(b,p.fontSize,(null!==(f=null===(n=g[T])||void 0===n?void 0:n.fontSize)&&void 0!==f?f:T)+"px"),(0,r.Z)(b,p.listGap,(null!==(h=null===(t=g[T])||void 0===t?void 0:t.listGap)&&void 0!==h?h:8)+"px"),(0,r.Z)(b,p.iconTextGap,(null!==(m=null===(l=g[T])||void 0===l?void 0:l.iconTextGap)&&void 0!==m?m:8)+"px"),(0,r.Z)(b,p.tooltipFontSize,(null!==(y=null===(d=g[T])||void 0===d?void 0:d.tooltipFontSize)&&void 0!==y?y:14)+"px"),b),R=S>Z,k=x.slice(0,R?Z-1:Z);return(0,a.tZ)(s.u,{tooltip:(0,a.tZ)(c.G,{css:v.tooltop,style:C,children:x.map((function(e){var n;return(0,a.BX)(c.G,{css:v.tooltipRow,children:[(0,a.tZ)(u.q,{size:(null===(n=g[T])||void 0===n?void 0:n.tooltipAvatarSize)||T,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,a.tZ)(c.G,{css:v.tooltipText,children:e.username})]},e.username)}))}),children:function(e,n){return(0,a.BX)(c.G,(0,o.Z)((0,i.Z)({},e),{tag:"ul",innerRef:n,css:v.avatarsRow,style:C,children:[k.map((function(e,n){return(0,a.tZ)(c.G,{tag:"li",style:{zIndex:n+1},css:v.stackItem,children:(0,a.tZ)(u.q,{size:T,src:e.image||null,ringColor:e.color,username:e.username})},e.id)})),R?(0,a.tZ)(c.G,{tag:"li",css:v.stackItem,style:{zIndex:k.length},children:(0,a.tZ)(c.G,{css:v.countCirlce,children:(0,a.BX)(c.G,{children:["+",S-Z+1]})})}):null]}))}})}},45827:function(e,n,t){var r=(0,t(50959).createContext)(null);n.Z=r},5993:function(e,n,t){t.d(n,{S:function(){return o}});var r=t(15595),i=t(50959);function o(){var e=(0,r.useLDClient)();return(0,i.useCallback)((function(){return function(e){var n=parseInt(null===e||void 0===e?void 0:e.variation("flag-container-retry-minimum-ms",0),10);return Number.isFinite(n)?n<0?0:n:0}(e)}),[e])}},69921:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(2272),i=t(50959),o={isConnecting:!0,channel:null,context:null};function a(e){var n=e.container,t=e.service,a=e.name,u=e.skip,c=void 0!==u&&u,l=(0,r.Z)(i.useState(o),2),s=l[0],d=l[1];return i.useEffect((function(){d(o);var e=!1,r=n.openChannel({service:t,name:a,skip:function(){return c}},(function(n){if(!e)return d({context:n.context,channel:n.channel,isConnecting:!1}),function(n){e||d({isConnecting:n.willReconnect,channel:null,context:null})}}));return function(){e=!0,r()}}),[n,t,a,c]),s}},81203:function(e,n,t){t.d(n,{P:function(){return s},n:function(){return l}});var r=t(2272),i=t(50959),o=t(88688),a=t(68710),u=t(63064),c=t(18171),l=function(e){var n=(0,u.Z)(),t=(0,r.Z)(i.useState(null),2),a=t[0],c=t[1];return i.useEffect((function(){return e.watch((function(e){n.current&&(e.error?e.error===o.Yt.NotFound&&c([]):e.config.hidden?c(e.config.hidden):c([]))}))}),[e,n]),a},s=function(e){var n=l(e);return(0,c.Z)((function(){return null===n?null:n.map((function(e){return(0,a.Z)(e)||e}))}),[n])}},38567:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(9970),i=t(94716),o=t(18171),a=t(73377),u=t(45285),c=t(50959),l=t(3341),s=t.n(l);function d(e){var n,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=(0,c.useState)(null),h=f[0],p=f[1],v=(0,i.Z)(h),g=null===(t=null!==(n=d.keepStaleResult)&&void 0!==n?n:d.refresh)||void 0===t||t,m=(0,c.useCallback)((function(e){s()(e,v.current)||p(e)}),[v]),y=(0,o.Z)((function(){return e}),(0,r.Z)(l)),b=(0,u.Z)().git,x=(0,c.useRef)(null),w=(0,c.useCallback)((function(){x.current?x.current():g||m(null);var e=!1;y(b).then((function(n){e||(m(n),x.current=null)})).catch((function(){if(!e){var n={error:a.aq.UNKNOWN};m(n),x.current=null}})),x.current=function(){e=!0,x.current=null,g||m(null)}}),[m,y,b,g]);return(0,c.useEffect)((function(){return w()}),[w]),(0,c.useEffect)((function(){var e;if(null===(e=d.refresh)||void 0===e||e)return b.onRefresh(w)}),[b,w,d.refresh]),h}},24746:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(2272),i=t(50959);function o(e){var n=e.presence,t=(0,r.Z)(i.useState(n.getActiveUsers()),2),o=t[0],a=t[1];return i.useEffect((function(){return a(n.getActiveUsers()),n.onActiveUsersChange((function(e){return a(e)}))}),[n]),o}},45285:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(50959),i=t(45827);function o(){var e=(0,r.useContext)(i.Z);if(!e)throw new Error("Expected services in context");return e}},49514:function(e,n,t){t.d(n,{K:function(){return u}});var r=t(72006),i=t(45285),o=t(50959),a=t(88541);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)().userEvents,t=(0,a.P5)({controlName:"flag-null-diagnostics",logFlagToAnalytics:!1});return(0,o.useCallback)((function(i,o){t&&n.emit(i,(0,r.Z)({},e,o))}),[n,e,t])}},40865:function(e,n,t){t.d(n,{X:function(){return o},z:function(){return a}});var r=t(50959),i=r.createContext(null);function o(){return r.useContext(i)}var a=i.Provider},4143:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(5858),i=function(){};function o(e){var n=(0,r.e)(e);return n?n.delegateTooltip:i}},5858:function(e,n,t){t.d(n,{e:function(){return o}});var r=t(50959),i=t(40865);function o(e){var n=(0,i.X)(),t=(0,r.useCallback)((function(t){null===n||void 0===n||n.setStepTargetElement(e,t)}),[e,null===n||void 0===n?void 0:n.setStepTargetElement]);return n&&n.steps.some((function(n){return n.id===e}))?{delegateTooltip:t,isActive:!n.isLoading&&!n.isDone&&n.activeStep.id===e,activeStep:n.activeStep,done:n.done,goto:n.goto,id:n.id,isDone:n.isDone,isLoading:n.isLoading,next:n.next,prev:n.prev,restart:n.restart,steps:n.steps}:null}},69341:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(66091),i=t(5683),o=t(72006),a=t(4405),u=t(45347),c=t(74985),l=t(85368),s=t(39541),d=t(1468),f=t(50959),h=t(13424),p=t(49500),v=function(e){(0,i.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;return(0,r.Z)(this,t),(e=n.apply(this,arguments)).state={hasErrored:!1,error:null,errorInfo:null},e}var o=t.prototype;return o.componentDidCatch=function(e,n){this.setState({hasErrored:!0,error:e,errorInfo:n}),this.props.handleError(e,n),p.error(e)},o.render=function(){var e,n,t;return this.state.hasErrored?(0,c.tZ)(l.G,{css:[s.l0.font.code,s.l0.p(16),{whiteSpace:"pre",overflow:"hidden",color:"white"},s.l0.backgroundColor.blurpleDefault,s.l0.height("100%")],children:(0,c.tZ)(l.G,{children:null!==(t=null===(e=this.state)||void 0===e||null===(n=e.error)||void 0===n?void 0:n.stack)&&void 0!==t?t:"An unknown error occurred."})}):this.props.children},t}(f.Component);function g(e){var n=e.bsod,t=void 0!==n&&n,r=e.sentry,i=void 0===r||r,u=e.handleError,l=e.children,s=e.origin,f=void 0===s?"ErrorBoundary: (no origin provided)":s,p=e.tags,g=void 0===p?{}:p,m=e.extras,y=void 0===m?{}:m,b=(0,h.uV)();return(0,c.tZ)(v,{handleError:function(e,n){t?b({error:e,extras:(0,a.Z)((0,o.Z)({},y),{errorInfo:n}),tags:(0,a.Z)((0,o.Z)({},g),{errorBoundary:!0}),origin:f}):i&&d.c_.withScope((function(t){t.setTag("errorBoundary",!0),t.setTags(g),t.setExtra("errorInfo",n),t.setExtras(y),d.c_.captureException(e)})),u&&u(e,n)},children:l})}},45344:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(90171),i=t.n(r),o=t(67121),a=t(49500);function u(e){var n=e.throwBsod,t=e.tags,r=e.extras,u=e.origin,c=e.onNonBsodUnrecoverableError,l=void 0===c?function(){}:c;return function(e){var c=(0,o.Z)(e);c!==o.G.NotFound?c!==o.G.LanguageTokenDenied?c?l(c):(a.error(e),n({error:e,tags:t,extras:r,origin:u})):window.location.reload():i().push("/home","~/")}}},88133:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(74985),i=t(50959),o=t(24025),a=t(85368),u=t(39541),c=t(43312),l=(0,c.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),s=(0,c.iv)({overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(l," 200ms 250ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"400ms"}}});function d(){var e=(0,i.useId)();return(0,r.tZ)(a.G,{css:s,children:(0,r.BX)(o.Z,{speed:2,backgroundColor:u.TV.backgroundHighest,foregroundColor:u.TV.backgroundHigher,uniqueKey:e,children:[(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,r.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}},30586:function(e,n,t){function r(e){var n="For example, here is a code block in ".concat(e);switch(e){case"python3":return"".concat(n,'\n```python\ndef hello_world():\n  print("hello world!")\n```\n');case"java10":return"".concat(n,'\n```java\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println("hello world");\n  }\n}\n```\n');case"html":return"".concat(n,"\n```python\n<html>\n<body>\n  <h1>hello world</h1>\n</body>\n</html>\n``")}return""}function i(e){var n=e.language;return"# Lesson plan\n  \n  ** this file should contain teacher lesson plan details ** \n\n  __ students will never see this __\n\n  ## Learning Objectives\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your lesson plan.\n\n  ".concat(r(n),"\n  ")}function o(e){var n=e.language;return"# Instructions  \n\n  ** this file should contain student lesson instructions **\n\n  _ students will see these instructions in a read-only workspace tab _\n\n  ## Steps\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your instructions.\n\n  ".concat(r(n),"\n  ")}t.d(n,{G:function(){return i},K:function(){return o}})},61062:function(e,n,t){t.d(n,{Z:function(){return Le}});var r=t(72006),i=t(4405),o=t(2272),a=t(9970),u=t(74985),c=t(48306),l=t.n(c),s=t(50959),d=t(97754),f=t.n(d),h=t(9419);var p=t(26289),v=t(22780),g=t(4561),m=t(12583),y=t(16068),b=t(60566),x=t(2041),w=t(13233),Z=t(60141),E=t(10507);function T(e){var n=e.path,t=(0,E.tv)(n);return 0===t.length?null:(0,u.tZ)(Z.Z,{activeUsers:t})}var S=t(85368),C=t(61284),R=t(39541),k=t(48330),D=t(43746),A=t(90686),I=t(49747),N=t(57135),P=t(96583),O=t(22011),F=t(30586),_="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";function q(){return(q=(0,N.Z)((function(e){var n,t,r,i,o,a,u;return(0,P.__generator)(this,(function(c){switch(c.label){case 0:return n=e.fs,t=e.language,r=void 0===t?"python3":t,[4,n.createDir(".lesson")];case 1:return(i=c.sent()).error?[2,i]:[4,n.writeFile(".lesson/assets/logo.png",O.Z.from(_,"base64"))];case 2:return(o=c.sent()).error?[2,o]:[4,n.writeFile(".lesson/lessonplan.md",O.Z.from((0,F.G)({language:r})))];case 3:return(a=c.sent()).error?[2,a]:[4,n.writeFile(".lesson/instructions.md",O.Z.from((0,F.K)({language:r})))];case 4:return(u=c.sent()).error?[2,u]:[2,{error:null}]}}))}))).apply(this,arguments)}var U=t(99950),L=t(27522);function z(e){var n=e.onCreateClick;return(0,u.BX)(v.ZP,{interactive:!1,children:[(0,u.BX)("div",{className:"jsx-d8ed3bbadff3cff2",children:["Add  ",(0,u.tZ)(L.Z,{size:"small",border:!1,onClick:function(){return n(g.Tv.File)},children:"lesson contents"})]}),(0,u.tZ)(l(),{id:"d8ed3bbadff3cff2",children:"div.jsx-d8ed3bbadff3cff2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;overflow:hidden;white-space:nowrap}"})]})}var j=t(73872),B=(0,t(43312).iv)({flexShrink:0,margin:"4px",transform:"rotate(-90deg)",transformOrigin:"50% 50%"});function G(e){var n=(0,j.Z)(e.progress),t=e.size/2,r=t/2,i=2*r*Math.PI,o=i-n*i;return(0,u.BX)("svg",{css:B,height:2*t,width:2*t,children:[(0,u.tZ)("circle",{fill:"var(--background-higher)",r:t,cx:t,cy:t}),(0,u.tZ)("circle",{stroke:"var(--foreground-dimmest)",fill:"transparent",strokeWidth:t,strokeDasharray:i+" "+i,style:{strokeDashoffset:o},r:r,cx:t,cy:t})]})}var M=t(42256),W=t(53397),Q=t(56820),H=t(96166),V=t(97360),X=t(18171),K=t(4286),Y=t(4853),J=function(e,n){return(0,W.lV)(s.useCallback((function(t,r){var i=t(U.dv),o=t(U.ON),a=t(H.tf);Object.prototype.hasOwnProperty.call(i,e)?(r(K.tO,o),a({action:"deleted",fileType:n,multiSelect:!0})):(r(K.tO,[{path:e,type:n}]),a({action:"deleted",fileType:n}))}),[e,n]),V.l)},$=t(77511),ee=t(90171),ne=t(23271),te=t(75205),re=t(98314),ie=t(6191),oe=t(57417),ae=t(83344),ue=t(84840),ce=t(77474),le=t(87978),se=t(5128),de=t(62946),fe=function(e,n){var t=(0,X.Z)((function(){return(0,de.cn)((function(n){var t=n(U.dv);return Object.prototype.hasOwnProperty.call(t,e)}))}),[e]),r=(0,X.Z)((function(){return(0,de.cn)((function(r){return r(t)?r(U.m5):[{path:e,type:n}]}))}),[t,e,n]);return(0,de.Dv)(r,V.l)},he=t(88541),pe=t(37975),ve=t(18894),ge=t(98966),me=t(95245);function ye(e){var n=e.path,t=e.readOnly,r=e.progress,i=e.siblings,a=e.isOptimistic,c=e.onMouseEnter,d=e.onMouseLeave,h=(0,Q.aR)(n),p=(0,A.y)().duplicateFile,m=(0,se.D3)(),x=(0,o.Z)((0,pe.Hm)(),1)[0],w=(0,he.P5)({controlName:"flag-open-with",type:"boolean",default:!1,logFlagToAnalytics:!1}),Z=(0,k.Z)(),E=n.split("/"),S=E[E.length-1],C=(0,me.d)({tablet:!1}),R=(0,o.Z)(function(e){var n=g.Tv.File,t=(0,H.GQ)(),r=(0,se.E7)(),i=(0,H.Z1)(),a=fe(e,n),u=(0,o.Z)((0,ne.c)({type:n,item:{type:n,previewNode:{path:e,type:n},nodes:a},canDrag:function(){return!t&&null===r},collect:function(e){return{isDragging:e.isDragging()}},end:function(e){i&&i()}}),3),c=u[0].isDragging,l=u[1],d=u[2];return s.useEffect((function(){d((0,re.r)(),{captureDraggingState:!0})}),[d]),[{isDragging:c},l,d]}(n),2),O=R[0].isDragging,F=R[1],_=(0,ee.useRouter)(),q=s.useMemo((function(){var e=[y.st.Rename];if(C||e.push(y.st.OpenTab,y.st.OpenPane),w){var t=!0,r=!1,i=void 0;try{for(var o,a=x[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;"extension"===u.paneType&&u.supports(n)&&e.push((0,y.yQ)(u))}}catch(c){r=!0,i=c}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}}return e.push(y.st.CopyFilePath,y.st.CopyLink,y.st.Duplicate),(0,$.Vg)(_)||e.push(y.st.Download),e.push(y.st.Delete),e}),[_,w,x,n,C]),L=(0,U.n5)(n),z=(0,U.AM)(n),j=(0,U.uF)(n),B=(0,U.yQ)(n),K=(0,U.uH)(n),te=function(e){var n=(0,Q.Hq)(),t=(0,U.qp)(),r=(0,U.lK)(),i=(0,U.IQ)(),o=(0,H.G)("flagFiletreeMultiselect");return(0,W.lV)(s.useCallback((function(a,u,c){var l=a(H.Up),s=(0,M.j)(c),d=c.shiftKey,f=c.altKey;if(!o){var h={newTab:s};return n(e),t(e),void l(e,h)}var p=a(H.gI),v="altKey"===(null===p||void 0===p?void 0:p.multiselectModifierKey),g=v?f:s,m={newTab:v?s:f};return g||d?g?(r(e),void n(e)):void(d&&i(e)):(n(e),t(e),void l(e,m))}),[o,n,e,t,r,i]),V.l)}(n),ie=function(e){var n=(0,H.$E)();return(0,X.Z)((function(){return function(){n&&n(e)}}),[n,e])}(n),oe=function(e){var n=(0,Q.Hq)(),t=(0,U.qp)();return(0,W.lV)(s.useCallback((function(r,i,o){if(1===o.button){var a=r(H.Up);n(e),t(e),a(e,{newTab:!0}),o.preventDefault(),o.stopPropagation()}}),[e,n,t]),V.l)}(n),ae=function(e){return(0,W.lV)(s.useCallback((function(n){var t=n(U.m5),r=n(U.dv),i=Object.prototype.hasOwnProperty.call(r,e),o=n(H.Up);i?t.filter((function(e){return e.type===g.Tv.File})).forEach((function(e){var n=e.path;o(n,{newTab:!0})})):o(e,{newTab:!0})}),[e]),V.l)}(n),ue=function(e){return(0,W.lV)(s.useCallback((function(n){var t=n(U.m5),r=n(U.dv),i=Object.prototype.hasOwnProperty.call(r,e),o=n(H.Up);i?t.filter((function(e){return e.type===g.Tv.File})).forEach((function(e,n){var t=e.path;o(t,0===n?{newPane:!0}:{newTab:!0})})):o(e,{newPane:!0})}),[e]),V.l)}(n),ce=function(e){return(0,W.lV)(s.useCallback(function(){var n=(0,N.Z)((function(n){var t,r,i,a,u,c,l,s,d,f,h,p,v,m;return(0,P.__generator)(this,(function(y){switch(y.label){case 0:if(t=n(H.BM),r=n(H.eN),i=function(){var n=(0,N.Z)((function(n){var i;return(0,P.__generator)(this,(function(o){switch(o.label){case 0:return t?[4,t(n)]:[2];case 1:return(i=o.sent()).error?(r(i.error),[2]):[4,(0,Y.Z)(e,i.content)];case 2:return o.sent(),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),a=n(U.m5),u=n(U.dv),c=Object.prototype.hasOwnProperty.call(u,e),l=n(H.tf),!c)return[3,9];s=!0,d=!1,f=void 0,y.label=1;case 1:y.trys.push([1,6,7,8]),h=function(){var e,n,t,r;return(0,P.__generator)(this,(function(a){switch(a.label){case 0:return e=(0,o.Z)(v.value,2),n=e[0],t=e[1],r=t.path,n%10!==0?[3,2]:[4,new Promise((function(e){setTimeout(e,1500)}))];case 1:a.sent(),a.label=2;case 2:return i(r),[2]}}))},p=a.filter((function(e){return e.type===g.Tv.File})).entries()[Symbol.iterator](),y.label=2;case 2:return(s=(v=p.next()).done)?[3,5]:[5,(0,P.__values)(h())];case 3:y.sent(),y.label=4;case 4:return s=!0,[3,2];case 5:return[3,8];case 6:return m=y.sent(),d=!0,f=m,[3,8];case 7:try{s||null==p.return||p.return()}finally{if(d)throw f}return[7];case 8:return l({action:"downloaded",fileType:g.Tv.File,multiSelect:a.length>1}),[3,10];case 9:i(e),l({action:"downloaded",fileType:g.Tv.File}),y.label=10;case 10:return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),[e]),V.l)}(n),le=function(e){return(0,W.lV)(s.useCallback((function(n,t,r){n(H.Up)(e,{newPane:!0,opener:r})}),[e]),V.l)}(n),de=J(n,g.Tv.File),ye=(0,ve.Mu)(n);return(0,u.BX)("div",{ref:F,onMouseEnter:c,onMouseLeave:d,className:"jsx-fdb89ac6def34b5b "+(f()({"is-dragging":O,"is-optimistic":a})||""),children:[(0,u.tZ)(v.ZP,{active:h,selected:L,isPrevNodeSelected:z,isNextNodeSelected:j,isPrevNodeSameLevel:B,isNextNodeSameLevel:K,onClick:te,onDoubleClick:ie,onAuxClick:oe,actions:t?void 0:q,onAction:function(e){switch(e.type){case y.fe.Rename:return m(n),void(0,D.Z)({replId:Z,action:"renamed",fileType:g.Tv.File});case y.fe.OpenTab:return void ae();case y.fe.OpenPane:return void ue();case y.fe.CopyFilePath:return void(0,b.Z)(n);case y.fe.CopyLink:var t=(0,I.dr)({path:n});return void(0,b.Z)(t);case y.fe.Download:return void ce();case y.fe.OpenWith:var r=e.opener;return void le(r);case y.fe.Duplicate:return p(n,i.map((function(e){return e.filename}))),void(0,D.Z)({replId:Z,action:"duplicated",fileType:g.Tv.File});case y.fe.Delete:return void de()}},children:(0,u.BX)("div",{title:n,className:"jsx-fdb89ac6def34b5b node-info",children:[(0,u.tZ)(v.qh,{type:g.Tv.File,path:n,active:h||L}),ye?(0,u.tZ)(v.tJ,{children:(0,u.tZ)(ge.sH,{type:ye,children:S})}):(0,u.tZ)(v.tJ,{children:S}),t?null:(0,u.tZ)(T,{path:n}),ye?(0,u.tZ)(ge.m8,{type:ye}):null,r?(0,u.tZ)(G,{size:16,progress:r}):null]})}),(0,u.tZ)(l(),{id:"fdb89ac6def34b5b",children:"div.jsx-fdb89ac6def34b5b{max-width:100%;width:100%}.node-info.jsx-fdb89ac6def34b5b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.is-dragging.jsx-fdb89ac6def34b5b{opacity:.7}.is-optimistic.jsx-fdb89ac6def34b5b{opacity:.5;pointer-events:none}"})]})}var be=t(77714),xe=t(63064);function we(e){var n=e.type,t=e.create,r=e.onCreate,i=e.onError,a=e.onCancel,c=e.parentPath,d=e.siblings,f=(0,xe.Z)(),h=(0,o.Z)(s.useState(null),2),p=h[0],g=h[1];return p?(0,u.BX)("div",{className:"jsx-610c999e6cd0a051 pending-node",children:[(0,u.BX)(v.ZP,{onClick:function(){return null},children:[(0,u.tZ)(v.qh,{path:p.filename,type:p.type}),(0,u.tZ)(v.tJ,{children:p.filename})]}),(0,u.tZ)(l(),{id:"610c999e6cd0a051",children:".pending-node.jsx-610c999e6cd0a051{pointer-events:none;opacity:.5}"})]}):(0,u.tZ)(be.Z,{parentPath:c,siblings:d,type:n,onCancel:a,onSubmit:function(e){if(!p){var o={path:c===m.Ql?e:c+"/"+e,type:n};g({filename:e,type:n}),t(o).then((function(){f.current&&(g(null),r(o))})).catch((function(e){f.current&&i(e)}))}}})}var Ze=t(55340),Ee=t(45510);function Te(e){var n=e.onCreateClick;return(0,u.tZ)(v.ZP,{interactive:!1,css:[{background:"".concat(R.TV.backgroundRoot," !important"),cursor:"auto !important",border:"none"}],children:(0,u.BX)(S.G,{css:[R.l0.rowWithGap(4),R.l0.align.center,R.l0.px(4)],children:[(0,u.tZ)(C.xv,{variant:"small",color:"dimmer",children:"Add a"}),(0,u.tZ)(Ee.zx,{small:!0,onClick:function(){return n(g.Tv.File)},text:"file",css:[R.l0.height(24),R.l0.color.foregroundDefault]}),(0,u.tZ)(C.xv,{variant:"small",color:"dimmer",children:"or"}),(0,u.tZ)(Ee.zx,{small:!0,onClick:function(){return n(g.Tv.Directory)},text:"folder",css:[R.l0.height(24),R.l0.color.foregroundDefault]})]})})}function Se(e){var n=e.readOnly,t=void 0!==n&&n,r=e.onCreateClick;return t?(0,u.tZ)(v.ZP,{interactive:!1,children:(0,u.tZ)(S.G,{css:[R.l0.rowWithGap(4),R.l0.align.center],children:(0,u.tZ)(C.xv,{variant:"small",color:"dimmer",children:"There is nothing here."})})}):(0,u.tZ)(Te,{onCreateClick:r})}var Ce=t(12318),Re=t(39137),ke=t(32104),De=t(76735),Ae=t(41773);function Ie(e){var n=e.type,t=e.parentPath,r=(e.siblings,e.create),i=e.onCreate,o=e.initialFileName,a=e.onRename,c=e.onError,l=e.onClose,d=(0,s.useState)(null),f=d[0],h=d[1],p=(0,s.useRef)(null),y=(0,Ae.IF)(t);(0,s.useEffect)((function(){if(o){var e=o.lastIndexOf(".");-1===e&&(e=o.length),p.current&&p.current.setSelectionRange(0,e)}}),[o]);var b=(0,Ce.Y)(o||"",(function(e){var n=(0,be.z)({siblingNames:y,fileName:e,initialValue:o,parentPath:t});return n?{message:n}:null})),x=!!b.error||""===b.value,w=n===g.Tv.File?"File":"Folder",Z=o?"Rename ".concat(w):"Add ".concat(w),E=function(){return b.error?(0,u.tZ)(S.G,{css:[R.l0.height(24),R.l0.width(24),R.l0.center],children:(0,u.tZ)(De.Z,{color:R.TV.accentNegativeDefault})}):(0,v.qh)({type:n,path:b.value,gutter:!1})};return(0,u.tZ)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x||(o?a(b.value):function(){if(!f){var e={path:t===m.Ql?b.value:t+"/"+b.value,type:n};h({filename:b.value,type:n}),r(e).then((function(){h(null),i(e)})).catch((function(e){c(e)}))}}())},children:(0,u.BX)(S.G,{css:[R.l0.colWithGap(16)],children:[(0,u.tZ)(C.xv,{variant:"subheadDefault",children:Z}),(0,u.BX)(S.G,{css:[R.l0.rowWithGap(4),R.l0.center],children:[(0,u.tZ)(E,{}),(0,u.tZ)(Re.II,{id:"fileName",ref:p,value:b.value,autoFocus:!0,onChange:function(e){return b.setValue(e.target.value)},autoCapitalize:"off",autoComplete:"off",autoCorrect:"off"})]}),b.error?(0,u.tZ)(C.xv,{variant:"small",color:"dimmer",children:b.error.message}):null,(0,u.BX)(S.G,{css:[R.l0.rowWithGap(8)],children:[(0,u.tZ)(Ee.zx,{text:"Cancel",outlined:!0,colorway:"negative",css:{flex:1},type:"button",onClick:l}),(0,u.tZ)(Ee.zx,{text:o?"Rename":"Add",colorway:"primary",iconLeft:f?(0,u.tZ)(ke.Z,{}):void 0,css:{flex:1},disabled:x,type:"submit"})]})]})})}var Ne=t(85357),Pe=t(82568),Oe=(0,Pe.X)({limitedChildrenWarning:[R.l0.py(4),R.l0.textAlign.center]});function Fe(e){var n,t,i,o=e.parentPath,c=e.nodes,l=e.unfilteredNodes,d=void 0===l?[]:l,f=e.loading,h=e.error,p=e.readOnly,y=e.disableCreate,b=null===c||void 0===c?void 0:c.slice(0,500),Z=(null===b||void 0===b?void 0:b.length)!==(null===c||void 0===c?void 0:c.length),E=(0,w.Z)().showError,T=o===m.Ql?[]:o.split("/"),R=(0,$.T3)(),k=(0,A.y)(),D=k.fs,I=k.pendingUploads,N=(0,Q.Hq)(),P=(0,U.qp)(),F=(0,Ae.kN)(),_=(0,Ae.Hl)(),L=(0,Ae.IU)(o),j=(0,Ae.QF)(),B=(0,se.d5)(),G=(0,se.E7)(),M=(0,se.D3)(),W=s.useRef(null),H=function(){W.current=null,M(null)};if(f)return(0,u.tZ)(Ze.Z,{path:o});if(h)return(0,u.tZ)(v.ZP,{interactive:!1,children:null!==(i=h.message)&&void 0!==i?i:h});if(!b||!c)return null;var V,X=!p&&!y&&L,K=new Set(b.map((function(e){return e.filename}))),Y=(null!==I&&void 0!==I?I:[]).filter((function(e){var n=e.targetPath,t=n.lastIndexOf("/");return(-1!==t?n.slice(0,t):m.Ql)===o&&!K.has(n)})),J=function(e){var n=e.path;return e.type===g.Tv.File?D.writeFile(n,O.Z.from("")):D.createDir(n)};return(0,u.BX)(u.HY,{children:[b.map((function(e){var n=e.filename,t=e.type,i=e.isOptimistic,c=(0,a.Z)(T).concat([n]).join("/"),l=d.filter((function(e){return e.filename!==n}));if(G===c&&R&&(W.current={initialFileName:n,path:c,siblings:l,type:t}),G===c&&!R)return(0,u.tZ)(v.ZP,{onClick:function(){return null},children:(0,u.tZ)(be.Z,{type:t,parentPath:o,siblings:l,initialValue:n,rename:!0,onSubmit:function(e){M(null);var n=(0,a.Z)(T).concat([e]).join("/");B({fileType:t,path:c,to:n})},onCancel:function(){return M(null)}})},n);var s={siblings:l,readOnly:p||i,path:c,key:i?"(optimistic) ".concat(n):n,isOptimistic:i};return t===g.Tv.File?(0,u.tZ)(ye,(0,r.Z)({},s)):(0,u.tZ)(Le,(0,r.Z)({},s))})),Y.map((function(e,n){var t=e.targetPath,r=e.progress;return(0,u.tZ)(ye,{siblings:d.filter((function(e){return e.filename!==t})),path:t,progress:r,readOnly:!0},"".concat(t,"_").concat(n))})),!p&&!b.length&&o===m.oh&&(0,u.tZ)(z,{onCreateClick:function(){return function(e){return q.apply(this,arguments)}({fs:D})}}),b.length||o===m.oh||X?null:(0,u.tZ)(Se,{onCreateClick:function(e){N(o),P(o),_(e)},readOnly:p}),Z?(0,u.BX)(S.G,{css:Oe.limitedChildrenWarning,children:[(0,u.tZ)(C.xv,{variant:"small",color:"dimmest",multiline:!0,children:"Displayed files are limited for performance."}),(0,u.tZ)(C.xv,{variant:"small",color:"dimmest",multiline:!0,children:"All files are still accessible from Search or the Shell."})]}):null,X&&F&&!R&&(0,u.tZ)(Ne.ZP,{group:"focus-group-filetree-create",children:(0,u.tZ)(we,{siblings:d||[],parentPath:o,create:J,type:F,onError:function(e){return E("Something went wrong: ".concat(e))},onCancel:function(){return _(null)},onCreate:j})}),R?(0,u.tZ)(x.u,{isOpen:Boolean(R&&(X&&F||W.current)),onRequestClose:function(){_(null),H()},centered:!0,children:F||W.current?(0,u.tZ)(Ie,{type:null!==(V=null!==F&&void 0!==F?F:null===(n=W.current)||void 0===n?void 0:n.type)&&void 0!==V?V:g.Tv.File,parentPath:o,siblings:W.current?W.current.siblings:d||[],create:J,onCreate:j,initialFileName:null===(t=W.current)||void 0===t?void 0:t.initialFileName,onRename:function(e){if(W.current){var n=(0,a.Z)(T).concat([e]).join("/");B({fileType:W.current.type,path:W.current.path,to:n}),H()}},onError:function(e){return E("Something went wrong: ".concat(e))},onClose:function(){_(null),H()}}):null}):null]})}var _e=(0,Pe.X)({gutter:{minWidth:"1em",padding:"0 10px 0 12px",cursor:"pointer"},gutter2:{padding:"0 6px",cursor:"pointer"},rule:{height:"100%",width:1,transition:"all 100ms"},rule2:{height:"calc(100% - 3px)",width:1}}),qe=function(e){var n=e.dirPath,t=(0,Q.dZ)(n),r=function(e){var n=(0,Q.Hq)(),t=(0,U.qp)(),r=(0,h.p$)(e).collapse;return s.useCallback((function(i){n(e),t(e),r()}),[r,e,t,n])}(n),i=(0,he.P5)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1});return(0,u.BX)("div",{css:i?_e.gutter2:_e.gutter,onClick:r,className:"jsx-ff9dd9c3c09ee873 dir-node-gutter",children:[(0,u.tZ)("div",{css:i?_e.rule2:_e.rule,className:"jsx-ff9dd9c3c09ee873 "+(f()("rule",{drawn:t})||"")}),(0,u.tZ)(l(),{id:"ff9dd9c3c09ee873",children:".rule.drawn.jsx-ff9dd9c3c09ee873,.root-node:hover .rule.jsx-ff9dd9c3c09ee873{background-color:var(--outline-dimmest)}.dir-node-gutter.jsx-ff9dd9c3c09ee873:hover .rule.jsx-ff9dd9c3c09ee873{background-color:var(--accent-primary-default)}"})]})},Ue=(0,Pe.X)({dirNode:[R.l0.borderRadius(8),R.l0.width("100%")],rootNode:[R.l0.overflowY("auto"),R.l0.flex.grow(1),R.l0.px(8),R.l0.pb(16)],nodeInfo:[R.l0.display.flex,R.l0.align.center,R.l0.overflow("hidden"),R.l0.flex.grow(1)],hidden:[R.l0.display.none,R.l0.height(0),R.l0.width(0)],isDropping:[R.l0.backgroundColor.backgroundDefault,{outline:"1px dashed "+R.TV.accentPrimaryDefault,outlineOffset:-1}],isDragging:{opacity:.1},isOptimistic:{opacity:.5,pointerEvents:"none"}});function Le(e){var n=e.path,t=e.readOnly,c=e.siblings,l=e.progress,d=e.isOptimistic,x=(0,Q.aR)(n),w=(0,k.Z)(),Z=(0,Ae.Hl)(),E=(0,A.y)(),S=E.fs,C=E.uploadFiles,O=(0,se.D3)(),F=n.split("/"),_=F[F.length-1],q=n===m.Ql,L=n===m.oh,z=(0,U.Hc)(),j=s.useRef(null),B=(0,o.Z)(s.useState([]),2),G=B[0],X=B[1],K=(0,o.Z)(s.useState([]),2),Y=K[0],$=K[1],ee=(0,ue.Ol)();s.useEffect((function(){ee(n)}),[S,n,ee]);var de=function(e){var n,t,r,i=e.path,o=e.initialExpanded,a=(0,h.dg)(i),u=null!==(n=null===a||void 0===a?void 0:a.children)&&void 0!==n?n:null,c=null!==(t=null===a||void 0===a?void 0:a.error)&&void 0!==t?t:null,l=Boolean(null!==(r=null===a||void 0===a?void 0:a.expanded)&&void 0!==r?r:o),s=(0,h.p$)(i),d=s.expand,f=s.collapse;return l?c?{collapse:f,expand:d,children:null,expanded:l,loading:!1,error:c}:u?{collapse:f,expand:d,children:u,loading:!1,error:c,expanded:l}:{collapse:f,expand:d,children:u,loading:!0,error:c,expanded:l}:{collapse:f,expand:d,children:null,loading:!1,error:null,expanded:l}}({path:n,initialExpanded:q||L}),he=de.expand,pe=de.children,me=de.loading,ye=de.error,be=de.expanded,xe=(0,o.Z)(function(e){var n=g.Tv.Directory,t=(0,H.GQ)(),r=(0,se.E7)(),i=fe(e,g.Tv.Directory),a=(0,o.Z)((0,ne.c)({type:n,item:{type:n,previewNode:{path:e,type:n},nodes:i},canDrag:function(){return!t&&e!==m.Ql&&null===r},collect:function(e){return{isDragging:e.isDragging()}}}),3),u=a[0].isDragging,c=a[1],l=a[2];return s.useEffect((function(){l((0,re.r)(),{captureDraggingState:!0})}),[l]),[{isDragging:u},c,l]}(n),2),we=xe[0].isDragging,Ze=xe[1],Ee=(0,o.Z)(function(e,n,t){var r=e===m.Ql,i=(0,W.lV)(s.useCallback(function(){var t=(0,N.Z)((function(t,i,o){var a,u,c,l,s;return(0,P.__generator)(this,(function(d){return"dirContent"in o?(o.dirContent.then((function(t){n({parentPath:r?void 0:e,files:t})})),[2]):(a=(0,le.RQ)(o.nodes),u=e,a.some((function(e){return u===e.path||!!((0,ae.pC)(u,e.path)||u===m.Ql&&1===(0,le.U$)(e.path))||!!(0,ae.yr)(e.path,u)}))?[2]:(c=a.map((function(e){var n=(0,le.UO)(e.path),t=u===m.Ql?n:u+"/"+n;return{src:e,dst:{type:e.type,path:t}}})),l=t(ue.Aw),s=a.reduce((function(e,n){var t,r=(0,le.UO)(n.path),i=null===(t=l[u])||void 0===t?void 0:t.children,o=null===i||void 0===i?void 0:i.find((function(e){return e.filename===r}));return o&&e.push({type:o.type,path:u===m.Ql?o.filename:u+"/"+o.filename}),e}),[]),s.length>0?(i(ce.oV,s),i(ce.nx,c),[2]):(i(ce.ub,c),[2])))}))}));return function(e,n,r){return t.apply(this,arguments)}}(),[r,e,n]),V.l),a=(0,o.Z)((0,te.L)({accept:[g.Tv.File,g.Tv.Directory,ie.FILE],canDrop:function(){return!0},hover:function(e,n){t.current&&r&&(0,oe.b)(t.current,n)},drop:function(e,n){if(!n.didDrop())return i(e)},collect:function(e){return{isOver:e.canDrop()&&e.isOver({shallow:!0})}}}),2);return[{isOver:a[0].isOver},a[1]]}(n,C,j),2),Te=Ee[0].isOver,Se=Ee[1];s.useEffect((function(){if(Te&&!be){var e=setTimeout(he,500);return function(){clearTimeout(e)}}}),[Te,he,be]),s.useEffect((function(){if(pe&&n===m.Ql){var e=pe.filter((function(e){return p.uP.includes(e.filename)}));X(e)}}),[n,pe]),s.useEffect((function(){if(pe&&n===m.Ql){var e=pe.filter((function(e){return p.nh.includes(e.filename)}));$(e)}}),[n,pe]);var Ce,Re=pe?(0,a.Z)(pe):null;if(Re){var ke=n!==m.Ql?"".concat(n,"/"):"";Re=Re.filter((function(e){return!p.ZP.includes(ke+e.filename)}))}if(Re&&n===m.Ql){var De=Re.findIndex((function(e){return e.type===g.Tv.Directory&&".lesson"===e.filename}));if(De>=0)Ce=(0,o.Z)(Re.splice(De,1),1)[0]}var Ie={readOnly:t,siblings:c,progress:l,parentPath:n},Ne=(0,U.n5)(n),Pe=(0,U.AM)(n),Oe=(0,U.uF)(n),_e=(0,U.yQ)(n),Le=(0,U.uH)(n),ze=function(e){var n=(0,Q.Hq)(),t=(0,U.qp)(),r=(0,U.lK)(),i=(0,U.IQ)(),o=(0,h.Fz)(),a=(0,H.G)("flagFiletreeMultiselect");return(0,W.lV)(s.useCallback((function(u,c,l){var s=(0,M.j)(l),d=l.shiftKey,f=l.altKey;if(!a)return o(e),n(e),void t(e);var h=u(H.gI),p="altKey"===(null===h||void 0===h?void 0:h.multiselectModifierKey)?f:s;return p||d?p?(r(e),void n(e)):void(d&&i(e)):(o(e),n(e),void t(e))}),[a,o,e,n,t,r,i]),V.l)}(n),Me=J(n,g.Tv.Directory),We=(0,U.qp)(),Qe=(0,Q.Hq)(),He=(0,ve.yj)(n);return(0,u.BX)("div",{title:n===m.Ql?void 0:n,ref:function(e){j.current=e,Se(e),Ze(e)},css:[Ue.dirNode,Te&&Ue.isDropping,we&&Ue.isDragging,d&&Ue.isOptimistic,n===m.Ql&&Ue.rootNode],className:f()({"root-node":n===m.Ql}),onClick:function(e){q&&e.target===e.currentTarget&&(e.stopPropagation(),z(m.Ql))},children:[q||L?null:(0,u.tZ)(v.ZP,{active:x||Te,selected:Ne,isPrevNodeSelected:Pe,isNextNodeSelected:Oe,isPrevNodeSameLevel:_e,isNextNodeSameLevel:Le,onClick:ze,actions:t?void 0:[y.st.Rename,y.st.AddFile,y.st.AddFolder,y.st.CopyFolderPath,y.st.CopyLink,y.st.Delete],onAction:function(e){switch(e!==y.st.Delete&&(x||(We(n),Qe(n)),be||he()),e.type){case y.fe.Rename:return O(n),void(0,D.Z)({replId:w,action:"renamed",fileType:g.Tv.Directory});case y.fe.AddFile:return void Z(g.Tv.File);case y.fe.AddFolder:return void Z(g.Tv.Directory);case y.fe.CopyFolderPath:return void(0,b.Z)(n);case y.fe.CopyLink:var t=(0,I.dr)({path:n});return void(0,b.Z)(t);case y.fe.Delete:return void Me()}},children:(0,u.BX)("div",{css:Ue.nodeInfo,title:n,children:[(0,u.tZ)(v.qh,{type:g.Tv.Directory,path:n,expanded:be,active:x||Ne}),He?(0,u.tZ)(v.tJ,{children:(0,u.tZ)(ge.sH,{type:He.type,children:_})}):(0,u.tZ)(v.tJ,{children:_}),be||t?null:(0,u.tZ)(T,{path:n}),He?(0,u.tZ)(ge.ts,{type:He.type,count:He.count}):null]})}),(0,u.BX)("div",{className:"file-nodes-container",css:[R.l0.flex.row],children:[q?null:(0,u.tZ)(qe,{dirPath:n}),(0,u.tZ)("div",{className:f()({hidden:!be}),css:[R.l0.flex.grow(1),R.l0.maxWidth("100%"),R.l0.overflow("hidden")],children:(0,u.tZ)(Fe,(0,r.Z)({nodes:Re,unfilteredNodes:null!==pe&&void 0!==pe?pe:[],loading:me,error:ye},Ie))})]}),Y.length&&!me?(0,u.tZ)(je,{children:(0,u.tZ)(Fe,(0,i.Z)((0,r.Z)({},Ie),{unfilteredNodes:null!==pe&&void 0!==pe?pe:[],nodes:Y,disableCreate:!0}))}):null,Ce&&!me?(0,u.tZ)(Ge,{readOnly:Boolean(t),children:(0,u.tZ)(Fe,(0,i.Z)((0,r.Z)({},Ie),{nodes:[Ce],disableCreate:!0}))}):null,G.length&&!me?(0,u.tZ)(Be,{children:(0,u.tZ)(Fe,(0,i.Z)((0,r.Z)({},Ie),{nodes:G,unfilteredNodes:null!==pe&&void 0!==pe?pe:[],disableCreate:!0}))}):null]})}function ze(e){var n=e.title,t=e.notice,r=e.children;return(0,u.BX)(S.G,{css:[R.l0.flex.column],children:[(0,u.tZ)(S.G,{css:[R.l0.p(8),R.l0.mt(8),{borderTop:"1px dashed ".concat(R.TV.outlineDimmest)}],children:(0,u.tZ)(C.xv,{variant:"text",css:[R.l0.fontWeight.medium,R.l0.color.foregroundDimmest,{userSelect:"none"}],children:n})}),t,(0,u.tZ)(S.G,{css:[R.l0.width("100%")],children:r})]})}function je(e){var n=e.children;return(0,u.tZ)(ze,{title:"Config files",children:n})}function Be(e){var n=e.children;return(0,u.tZ)(ze,{title:"Packager files",children:n})}function Ge(e){var n=e.children,t=e.readOnly;return(0,u.tZ)(ze,{title:"Lesson",notice:t?null:(0,u.tZ)(S.G,{css:[R.l0.p(16),R.l0.pt(0),R.l0.pb(8),R.l0.width("100%")],children:(0,u.tZ)(S.G,{css:[R.l0.py(8),R.l0.px(16),R.l0.backgroundColor.accentPrimaryDimmest,R.l0.borderRadius(8)],children:(0,u.BX)(C.xv,{children:["Place your lesson contents here.",(0,u.tZ)("br",{}),(0,u.tZ)("a",{href:"https://docs.replit.com/teams-edu/lesson-authoring",target:"_blank",children:"Learn more"})]})})}),children:n})}},90686:function(e,n,t){t.d(n,{i:function(){return i},y:function(){return o}});var r=t(50959),i=r.createContext({fs:{},pendingUploads:[],uploadFiles:function(){},duplicateFile:function(){throw new Error("duplicateFile not implemented")}});function o(){return r.useContext(i)}},55340:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(74985),i=t(43312),o=t(49146),a=t(39541),u=t(85368),c=t(12583),l=t(50959),s=t(24025),d=t(23455),f=(0,i.iv)([a.l0.justify.center,a.l0.pl(8),{overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:.5,width:250,display:"flex"}}]);function h(e){var n,t=e.index,i=32*t+8;return(0,r.BX)(r.HY,{children:[(0,r.tZ)("rect",{x:0,y:i,rx:"3",ry:"3",width:16,height:16}),(0,r.tZ)("rect",{x:28,y:i,rx:"3",ry:"3",width:"".concat(100+(n=t,n%2!==0?-10*n:10*n)),height:16})]})}function p(e){var n=e.path,t=n===c.Ql,i=t?5:1;l.useEffect((function(){var e=o.kg.timeStart({isRootPath:t});return function(){e("time to load filetree folder")}}),[t,n]);var a="fileTreeLoader-"+Math.random().toString();return(0,r.tZ)(u.G,{css:f,children:(0,r.tZ)(s.Z,{speed:2,backgroundColor:d.TV.backgroundHighest,foregroundColor:d.TV.backgroundHigher,height:32*i,width:250,viewBox:"0 0 250 ".concat(32*i),uniqueKey:a,children:Array(i).fill(null).map((function(e,n){return(0,r.tZ)(h,{index:n},n)}))})})}},16068:function(e,n,t){t.d(n,{fe:function(){return r},st:function(){return x},yQ:function(){return Z}});var r,i=t(72006),o=t(4405),a=t(74985),u=t(50959),c=t(70804),l=t(21371),s=t(1734),d=t(85368),f=t(61284),h=t(39541),p=t(17807),v=t(43312),g=t(91046),m=t(5889),y=t(88541),b=t(63128);!function(e){e.AddFile="AddFile",e.AddFolder="AddFolder",e.UploadFile="UploadFile",e.UploadFolder="UploadFolder",e.DownloadZip="DownloadZip",e.Duplicate="Duplicate",e.ShowHiddenFiles="ShowHiddenFiles",e.HideHiddenFiles="HideHiddenFiles",e.OpenTab="OpenTab",e.OpenPane="OpenPane",e.CopyLink="CopyLink",e.CopyFilePath="CopyFilePath",e.CopyFolderPath="CopyFolderPath",e.Rename="Rename",e.Download="Download",e.Delete="Delete",e.OpenWith="OpenWith"}(r||(r={}));var x={AddFile:{type:r.AddFile,text:"Add file"},AddFolder:{type:r.AddFolder,text:"Add folder"},UploadFile:{type:r.UploadFile,text:"Upload file"},UploadFolder:{type:r.UploadFolder,text:"Upload folder"},DownloadZip:{type:r.DownloadZip,text:"Download as zip"},Duplicate:{type:r.Duplicate,text:"Duplicate"},ShowHiddenFiles:{type:r.ShowHiddenFiles,text:"Show hidden files"},HideHiddenFiles:{type:r.HideHiddenFiles,text:"Hide hidden files"},OpenTab:{type:r.OpenTab,text:"Open tab"},OpenPane:{type:r.OpenPane,text:"Open pane"},CopyFilePath:{type:r.CopyFilePath,text:"Copy file path"},CopyFolderPath:{type:r.CopyFolderPath,text:"Copy folder path"},CopyLink:{type:r.CopyLink,text:"Copy link"},Rename:{type:r.Rename,text:"Rename"},Download:{type:r.Download,text:"Download"},Delete:{type:r.Delete,text:"Delete"}},w=(0,v.iv)([h.l0.position.relative,h.l0.width(16),h.l0.height(16)]),Z=function(e){if("extension"!==e.paneType)throw new Error("Only extension openers are supported");var n=e,t=n.extensionFileHandler.icon?n.extensionFileHandler.icon:n.extensionFileHandler.extension.manifest.icon,i=t?(0,g.Vh)(n.extensionFileHandler.extension.baseUrl,t):null,o=n.extensionFileHandler.name?n.extensionFileHandler.name:n.extensionFileHandler.extension.manifest.name;return{type:r.OpenWith,text:"Open with "+o,icon:i?(0,a.tZ)(d.G,{css:w,children:(0,a.tZ)(m.Z,{src:i,width:16,height:16,alt:"Icon for file opener: ".concat(o)})}):null,opener:e}},E={self:[h.l0.position.relative,h.l0.width(20),h.l0.height("100%"),h.l0.justify.center,{"& span":{height:"100%"}}],self2:[h.l0.position.relative,h.l0.width(16),h.l0.height("100%"),h.l0.justify.center,h.l0.pr(1)],button:[h.l0.display.flex,h.l0.align.center,h.l0.justify.center,h.l0.py(2),h.l0.top(0),h.l0.width("100%"),h.l0.border({width:0,color:"none"}),h.l0.cursor.pointer,h.l0.color.foregroundDimmest,h.l0.borderRadius(4),p.gU.filled,h.l0.position.relative,{top:-1,right:-1,height:"calc(100% + 2px)",backgroundColor:"transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}],button2:[h.l0.display.flex,h.l0.align.center,h.l0.py(2),h.l0.width("100%"),h.l0.height("100%"),h.l0.cursor.pointer,h.l0.color.foregroundDimmest,h.l0.focusRing,h.l0.borderRadius(4),{backgroundColor:"transparent",":hover":{color:h.TV.foregroundDefault}}],list:[h.l0.flex.column,h.l0.justify.center,h.l0.borderRadius(8),h.l0.zIndex(1),h.l0.backgroundColor.backgroundDefault,{listStyle:"none"},{":focus":{outline:"none"}}],option:function(e,n){return[h.l0.color.foregroundDefault,h.l0.p(8),h.l0.fontWeight.normal,h.l0.cursor.pointer,{whiteSpace:"nowrap"},n&&[h.l0.backgroundColor.backgroundHigher],e&&[{":hover":{backgroundColor:h.TV.accentNegativeDefault},":hover .option-label":{color:h.TV.white}}]]},optionLabel:function(e){return e?[h.l0.color.accentNegativeStronger]:[]}};function T(e){var n=e.isNegative,t=e.isHighlighted,r=e.children;return(0,a.tZ)(d.G,{css:E.option(n,t),children:(0,a.tZ)(f.xv,{className:"option-label",css:E.optionLabel(n),children:r})})}var S=d.K.ul,C=d.K.li,R=d.K.button,k=d.K.div,D=u.forwardRef((function(e,n){var t=e.isActive,r=e.actions,p=e.onAction,v=e.onOpenChange,g=u.useRef(!1),m=(0,l.L7)({items:r,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(g.current||p(n),P())}}),w=m.isOpen,Z=m.getToggleButtonProps,D=m.getMenuProps,A=m.highlightedIndex,I=m.getItemProps,N=m.openMenu,P=m.reset;u.useImperativeHandle(n,(function(){return{open:N}})),u.useEffect((function(){v&&v(w)}),[w,v]);var O=Z(),F=(0,y.P5)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1});return(0,a.tZ)(d.G,{css:F?E.self2:E.self,children:(0,a.BX)(s.Z,{elevated:!0,showArrow:!0,isOpen:w,placement:"right-start",padding:0,onClickOutside:P,children:[(0,a.tZ)(b.T,{background:t?"default":"root",css:[h.l0.height("100%"),{background:t?h.TV.backgroundHigher:"transparent",borderTopRightRadius:8,borderBottomRightRadius:8}],children:(0,a.tZ)(R,(0,o.Z)((0,i.Z)({},O),{css:F?E.button2:E.button,size:20,onClick:function(e){e.stopPropagation(),O.onClick(e)},children:(0,a.tZ)(c.Z,{})}))}),(0,a.tZ)(k,(0,o.Z)((0,i.Z)({},D({},{suppressRefError:!0})),{children:w?(0,a.tZ)(S,{css:E.list,children:r.map((function(e,n){return(0,a.tZ)(C,(0,o.Z)((0,i.Z)({"data-cy":"filetree-node-action-".concat(e.type)},I({item:e,index:n,onClick:function(n){g.current=!0,setTimeout((function(){g.current=!1})),p(e),n.stopPropagation()}})),{children:(0,a.tZ)(T,{isHighlighted:A===n,isNegative:e.type===x.Delete.type,children:(0,a.BX)(d.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)(f.xv,{children:e.text}),"icon"in e?e.icon:null]})})}),e.text)}))}):null}))]})})}));D.displayName="NodeActionsMenu",n.ZP=D},22780:function(e,n,t){t.d(n,{ZP:function(){return C},qh:function(){return k},tJ:function(){return A}});var r=t(57389),i=t(2272),o=t(74985),a=t(48306),u=t.n(a),c=t(50959),l=t(97754),s=t.n(l),d=t(16068),f=t(48712),h=t(13354),p=t(4561),v=t(83005),g=t(34495),m=t(76756),y=t(17807),b=t(39541),x=t(28737),w=t(82568),Z=t(88541),E="--selected-border-color",T={selectedBorderColor:"var(".concat(E,")")},S=(0,w.X)({nodeContainer:[b.l0.height(b.TV.space32),b.l0.cursor.pointer,b.l0.display.flex,b.l0.align.center,b.l0.color.foregroundDimmer,b.l0.borderRadius(8),b.l0.fontSize(b.TV.fontSizeDefault),{transition:"initial"}],nodeContainer2:[b.l0.height(b.TV.space24),b.l0.cursor.pointer,b.l0.display.flex,b.l0.align.center,b.l0.color.foregroundDimmer,b.l0.fontSize(b.TV.fontSizeDefault)],interactiveCorrection:[b.l0.borderRadius(4),{transition:"none"}],selected:[b.l0.color.foregroundDefault,{backgroundColor:T.selectedBorderColor,border:"1px solid ".concat(T.selectedBorderColor)}],active:{border:"1px solid "+T.selectedBorderColor},nodeAndPrevNodeSelected:{borderTopRightRadius:0},nodeAndPrevSiblingSelected:{borderTopLeftRadius:0},nodeAndNextNodeSelected:{borderBottomRightRadius:0},nodeAndNextSiblingSelected:{borderBottomLeftRadius:0}});function C(e){var n=e.active,t=e.selected,a=void 0!==t&&t,l=e.isPrevNodeSelected,f=void 0!==l&&l,h=e.isNextNodeSelected,p=void 0!==h&&h,v=e.isPrevNodeSameLevel,w=e.isNextNodeSameLevel,T=e.children,C=e.onClick,R=e.onDoubleClick,k=e.onAuxClick,D=e.interactive,A=void 0===D||D,I=e.className,N=e.actions,P=e.onAction,O=c.useRef(null),F=(0,i.Z)(c.useState(!1),2),_=F[0],q=F[1],U=c.useRef(null),L=(0,m.N)();c.useLayoutEffect((function(){n&&O.current&&(L.getMonitor().isDragging()||(0,g.Z)(O.current,{behavior:"smooth",scrollMode:"if-needed"}))}),[n,L]);var z=(0,x.F)().isDarkColorScheme?b.TV.backgroundHigher:b.TV.greyDimmest,j=a&&f,B=j&&v,G=a&&p,M=G&&w,W=(0,Z.P5)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1}),Q=A?y.gU.nofill:b.l0.cursor.default;return(0,o.BX)("div",{ref:O,onClick:C,onDoubleClick:R,onAuxClick:k,style:(0,r.Z)({},E,z),css:[W?S.nodeContainer2:S.nodeContainer,a?S.selected:Q,W&&S.interactiveCorrection,n&&S.active,j&&S.nodeAndPrevNodeSelected,B&&S.nodeAndPrevSiblingSelected,G&&S.nodeAndNextNodeSelected,M&&S.nodeAndNextSiblingSelected],onContextMenu:function(e){U.current&&(e.preventDefault(),U.current.open())},className:u().dynamic([["4c1359979efd5c22",[n||a||_?"flex":"none",n||a||_?1:0]]])+" "+(s()(I,"node",{active:n,interactive:A})||""),children:[T,N&&N.length&&P?(0,o.tZ)("div",{className:u().dynamic([["4c1359979efd5c22",[n||a||_?"flex":"none",n||a||_?1:0]]])+" actions",children:(0,o.tZ)(d.ZP,{ref:U,onOpenChange:q,actions:N,onAction:P,isActive:n||a})}):null,(0,o.tZ)(u(),{id:"4c1359979efd5c22",dynamic:[n||a||_?"flex":"none",n||a||_?1:0],children:".actions.__jsx-style-dynamic-selector{display:".concat(n||a||_?"flex":"none",";opacity:").concat(n||a||_?1:0,";-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;-webkit-transition:opacity;-moz-transition:opacity;-o-transition:opacity;transition:opacity;height:100%}.is-touch-device .actions.__jsx-style-dynamic-selector,.node.__jsx-style-dynamic-selector:hover .actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;opacity:1}")})]})}var R=(0,w.X)({container:[b.l0.display.flex,b.l0.align.center,b.l0.justify.spaceBetween],icon:[b.l0.display.flex,b.l0.center,{flex:"0 0 auto",width:24,height:24}],icon2:[b.l0.display.flex,b.l0.center,{flex:"0 0 auto",width:16,height:16}],gutter:[b.l0.display.flex,b.l0.align.center,b.l0.justify.end,{flex:"0 0 auto",width:3}]});function k(e){var n=e.expanded,t=e.type,r=e.path,i=e.gutter,a=void 0===i||i,u=null;u=t===p.Tv.Directory&&n?(0,o.tZ)(h.Z,{size:16}):t===p.Tv.Directory?(0,o.tZ)(f.Z,{size:16}):(0,o.tZ)(v.Z,{path:r,size:16});var c=(0,Z.P5)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1});return(0,o.BX)("div",{css:R.container,children:[a?(0,o.tZ)("div",{css:R.gutter}):null,(0,o.tZ)("div",{css:c?R.icon2:R.icon,children:u})]})}var D=(0,w.X)({wrapper:[b.l0.fontSize(b.TV.fontSizeDefault),b.l0.pl(8),b.l0.pr(4),{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],wrapper2:[b.l0.fontSize(b.TV.fontSizeSmall),b.l0.pl(6),b.l0.pr(4),{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],span:{userSelect:"none"}});function A(e){var n=e.children,t=e.title,r=(0,Z.P5)({controlName:"flag-ws-density-filetree",logFlagToAnalytics:!1});return(0,o.tZ)("div",{title:null!==t&&void 0!==t?t:"string"===typeof n?n:void 0,css:r?D.wrapper2:D.wrapper,children:(0,o.tZ)("span",{css:D.span,children:n})})}},77714:function(e,n,t){t.d(n,{Z:function(){return F},z:function(){return N}});var r=t(72006),i=t(4405),o=t(2272),a=t(9970),u=t(74985),c=t(48306),l=t.n(c),s=t(50959),d=t(4561),f=t(12318),h=t(94971),p=t(22780),v=t(48330),g=t(43119),m=t(71440),y=t(89649);function b(){var e=(0,g.Z)(["\n  query FiletreeRepl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        url\n      }\n    }\n  }\n"]);return b=function(){return e},e}var x={},w=(0,m.Ps)(b());var Z=t(91926),E=t(21371),T=t(48960),S=t(2255),C=t(20575),R=t(12583),k=t(13716),D=t(27562),A=t(41773),I=t(66656);function N(e){var n=e.siblingNames,t=e.fileName,r=e.initialValue,i=e.parentPath;if(t.includes("/"))return"File names cannot include forward slashes";if("."===t||".."===t)return'File names cannot be "'.concat(t,'"');if(t.match(/^\s/)||t.match(/\s$/))return"File names cannot start or end with whitespace";if(r!==t&&n.includes(t))return"A file or folder with that name already exists";if(t.length>100)return"File names cannot be longer than 100 characters";var o=i===R.Ql?t:i+"/"+t;return".env"===o?"You can create environment variables with the Secrets tool! (.env files are deprecated)":(0,C.C)(o)?'"'.concat(o,'" is reserved'):null}function P(){var e=(0,v.Z)(),n=(0,D.Z)(),t=function(e){var n=(0,r.Z)({},x,e);return y.a(w,n)}({variables:{replId:e}}).data,i=null;return"Repl"===(null===t||void 0===t?void 0:t.repl.__typename)&&(i=Z.Z.getMainFileName(n)),i}var O=function(e){var n=e.onSelect,t=e.onCancel,c=e.parentPath,d=e.type,f=(e.siblings,(0,A.IF)(c)),v=function(){var e=[".md",".draw"],n=P();n&&"."!==n[0]&&e.unshift((0,T.extname)(n));var t=(0,k.Bx)();if(t&&t.length>0){var r=(0,T.extname)(t[0]);r&&"."!==r&&e.unshift(r)}var i=(0,a.Z)(new Set(e)),o=Z.Z.allSupportedByPopularity().map((function(e){return"."+e.ext})).sort(),u=(0,a.Z)(new Set(i.concat(o).concat([".json",".txt",".toml",".css",".nix"])));return{defaultExtensions:i,dotExtensions:[".gitignore",".replit"],allSuggestions:u}}(),g=v.defaultExtensions,m=v.dotExtensions,y=v.allSuggestions,b=(0,o.Z)(s.useState(""),2),x=b[0],w=b[1],C=s.useRef(null);s.useEffect((function(){x&&n(x)}),[x,n]);var R=(0,o.Z)(s.useState([]),2),D=R[0],O=R[1],F=(0,o.Z)(s.useState(!1),2),_=F[0],q=F[1],U=(0,E.Kb)({items:D,defaultHighlightedIndex:0,initialHighlightedIndex:0,onInputValueChange:function(e){var n=e.inputValue;if(!n)return O([]),void U.reset();var t=n.includes(".")?n.slice(0,n.lastIndexOf(".")):n,r=n.includes(".")?(0,T.extname)(n):null,i=(""===r?m:"."===r||null===r||g.includes(r)?g:y).map((function(e){return t+e})).filter((function(e){return!N({siblingNames:f,fileName:e,parentPath:c})})).filter((function(e){return e!==n}));if(i.unshift(n),"string"===typeof r){var o=i.filter((function(e){return e.startsWith(n)&&""!==n}));return 0===o.length?(O([]),void U.reset()):void O(o)}O(i)},onSelectedItemChange:function(e){e.selectedItem&&w(L)}}),L=U.highlightedIndex>-1&&U.inputValue&&D[U.highlightedIndex]?D[U.highlightedIndex]:"",z=N({siblingNames:f,fileName:L,parentPath:c}),j=s.useRef(null),B=(0,o.Z)(s.useState({top:0,left:0,width:0}),2),G=B[0],M=B[1];return s.useLayoutEffect((function(){if(null!==j.current){var e=j.current.getBoundingClientRect();M({left:e.left,top:e.top+e.height,width:e.width})}}),[j]),(0,u.BX)("div",{children:[(0,u.tZ)("div",(0,i.Z)((0,r.Z)({className:"combobox"},U.getComboboxProps()),{ref:j,children:(0,u.tZ)(h.ZP,(0,r.Z)({autoFocus:!0,validationResults:z?[{state:"error",message:z}]:void 0},U.getInputProps({placeholder:"",ref:C,onBlur:function(){t()},onKeyDown:function(e){var r=function(){e.nativeEvent.preventDownshiftDefault=!0};if("Home"!==e.key&&"End"!==e.key)return"Tab"===e.key?(r(),""===L?void t():void n(L)):void("Escape"!==e.key||""!==L?"ArrowDown"===e.key||"ArrowUp"===e.key?q(!0):q(!1):t());_||r()}})))})),(0,u.BX)("div",(0,i.Z)((0,r.Z)({},U.getMenuProps()),{className:"jsx-3334e859a3d5803a",children:[U.isOpen?(0,u.tZ)(I.h,{children:(0,u.tZ)("ul",{style:{position:"absolute",left:G.left,top:G.top,width:G.width},className:"jsx-3334e859a3d5803a menu",children:D.map((function(e,n){return(0,u.BX)("div",{className:"jsx-3334e859a3d5803a liwrap",children:[(0,u.tZ)("div",{className:"jsx-3334e859a3d5803a icon",children:(0,u.tZ)(p.qh,{type:d,path:e})}),(0,u.BX)("li",(0,i.Z)((0,r.Z)({style:U.highlightedIndex===n?{backgroundColor:"var(--accent-primary-dimmer)"}:{}},U.getItemProps({item:e,index:n})),{onMouseDown:function(){w(e)},className:"jsx-3334e859a3d5803a truncate",children:[" ",(0,u.BX)("bdi",{className:"jsx-3334e859a3d5803a",children:[U.inputValue?(0,u.tZ)(S.gr,{source:e,match:U.inputValue,matchStyle:{color:U.highlightedIndex===n?"var(--foreground-dimmer)":"var(--accent-primary-default)"},style:{color:"var(--foreground-dimmer)"}}):e," "]})]}),"".concat(e).concat(n))]},"".concat(n).concat(e).concat(n))}))})}):null,(0,u.tZ)(l(),{id:"3334e859a3d5803a",children:'.menu.jsx-3334e859a3d5803a{font-weight:var(--font-weight-regular);cursor:pointer;overflow-y:auto;top:100%;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--background-default);border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);list-style:none;-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.truncate.jsx-3334e859a3d5803a{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;direction:rtl;text-align:left}@media not all and (min-resolution:.001dpcm),not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@mediaand(-webkit-min-device-pixel-ratio:0){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@media not all and (min-resolution:.001dpcm),not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0){@supports(-webkit-appearance:none)and (stroke-color:transparent){.truncate.jsx-3334e859a3d5803a{direction:ltr}}}.combobox.jsx-3334e859a3d5803a{display:"inline-block"}.li-wrap.jsx-3334e859a3d5803a{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}li.jsx-3334e859a3d5803a{color:var(--foreground-default);margin:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-weight:var(--font-weight-regular);cursor:pointer;white-space:nowrap;padding-top:var(--space-8);padding-right:var(--space-8);padding-bottom:var(--space-8);padding-left:var(--space-48)}.icon.jsx-3334e859a3d5803a{position:absolute;padding-left:var(--space-8);margin-top:var(--space-4);color:var(--foreground-dimmer)}'})]}))]})};function F(e){var n=e.type,t=e.initialValue,r=e.onSubmit,i=e.onCancel,o=e.siblings,a=e.parentPath,c=e.rename,v=(0,A.IF)(a),g=s.useRef(null),m=(0,f.Y)(t||"",(function(e){var n=N({siblingNames:v,fileName:e,initialValue:t,parentPath:a});return n?{message:n}:null}));return s.useEffect((function(){if(t){var e=t.lastIndexOf(".");-1===e&&(e=t.length),g.current&&g.current.setSelectionRange(0,e)}}),[t]),(0,u.BX)("div",{className:"jsx-214be0f492dbcad3 input-wrap",children:[c||n===d.Tv.Directory?(0,u.BX)(u.HY,{children:[(0,u.tZ)(h.ZP,{ref:g,validationResults:m.error?[{state:"error",message:m.error.message}]:void 0,autoFocus:!0,value:m.value,onBlur:function(){m.value&&m.value!==t?m.error?i():r(m.value):i()},onKeyUp:m.validate,onKeyDown:function(e){if("Enter"===e.key){if(m.error)return;return m.value!==t&&m.value?void r(m.value):void i()}"Escape"===e.key&&i()},onChange:function(e){m.setValue(e.target.value)}}),(0,u.tZ)("div",{className:"jsx-214be0f492dbcad3 icon",children:(0,u.tZ)(p.qh,{type:n,path:m.value})})]}):(0,u.tZ)(O,{onSelect:function(e){N({siblingNames:v,fileName:e,parentPath:a})||r(e)},onCancel:i,parentPath:a,type:n,siblings:o}),(0,u.tZ)(l(),{id:"a7badbaaf49636d0",children:".input-wrap.jsx-214be0f492dbcad3 input{padding-left:-webkit-calc(var(--space-32));padding-left:-moz-calc(var(--space-32));padding-left:calc(var(--space-32))}.icon.jsx-214be0f492dbcad3{padding-left:-webkit-calc(0*var(--space-16));padding-left:-moz-calc(0*var(--space-16));padding-left:calc(0*var(--space-16))}"}),(0,u.tZ)(l(),{id:"c77e680a97c77adf",children:".input-wrap.jsx-214be0f492dbcad3{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:var(--font-size-default);position:relative}.input-wrap.jsx-214be0f492dbcad3 input{font-size:inherit;padding-top:var(--space-4);padding-bottom:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);min-height:var(--space-32)}.icon.jsx-214be0f492dbcad3{color:var(--foreground-dimmer);pointer-events none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;height:100%}"})]})}},98966:function(e,n,t){t.d(n,{$_:function(){return h},Oq:function(){return f},QO:function(){return p},fL:function(){return d},m8:function(){return g},sH:function(){return m},ts:function(){return y}});var r,i,o,a=t(57389),u=t(74985),c=t(82568),l=t(39541),s=t(49760),d=(r={},(0,a.Z)(r,s.h.ADDED,"A"),(0,a.Z)(r,s.h.UNTRACKED,"A"),(0,a.Z)(r,s.h.MODIFIED,"M"),(0,a.Z)(r,s.h.DELETED,"D"),(0,a.Z)(r,s.h.RENAMED,"R"),(0,a.Z)(r,s.h.COPIED,"C"),r),f=(i={},(0,a.Z)(i,s.h.ADDED,l.TV.greenDimmest),(0,a.Z)(i,s.h.UNTRACKED,l.TV.greenDimmest),(0,a.Z)(i,s.h.MODIFIED,l.TV.yellowDimmest),(0,a.Z)(i,s.h.DELETED,l.TV.redDimmest),(0,a.Z)(i,s.h.RENAMED,l.TV.tealDimmest),(0,a.Z)(i,s.h.COPIED,l.TV.limeDimmest),i),h=(o={},(0,a.Z)(o,s.h.ADDED,l.TV.greenStrongest),(0,a.Z)(o,s.h.UNTRACKED,l.TV.greenStrongest),(0,a.Z)(o,s.h.MODIFIED,l.TV.yellowStrongest),(0,a.Z)(o,s.h.DELETED,l.TV.redStrongest),(0,a.Z)(o,s.h.RENAMED,l.TV.tealStrongest),(0,a.Z)(o,s.h.COPIED,l.TV.limeStrongest),o);function p(e){return e===s.h.ADDED||e===s.h.UNTRACKED||e===s.h.MODIFIED||e===s.h.DELETED||e===s.h.RENAMED||e===s.h.COPIED}var v=(0,c.X)({fileIcon:[l.l0.display.flex,l.l0.center,l.l0.fontWeight.bold,l.l0.fontSize(l.TV.fontSizeSmall),l.l0.px(2),{flex:"0 0 auto",minWidth:16,height:16}],directoryCountIcon:[l.l0.display.flex,l.l0.center,l.l0.fontWeight.medium,l.l0.fontSize(12),l.l0.borderRadius(4),l.l0.px(2),{flex:"0 0 auto",minWidth:16,height:16}]});function g(e){var n=e.type;return p(n)?(0,u.tZ)("div",{css:v.fileIcon,style:{color:h[n]},children:d[n]}):null}function m(e){var n=e.children,t=e.type;return p(t)?(0,u.tZ)("span",{style:{color:h[t]},children:n}):(0,u.tZ)("span",{children:n})}function y(e){var n=e.type,t=e.count;return 0!==t&&p(n)?(0,u.tZ)("div",{css:v.directoryCountIcon,style:{backgroundColor:f[n],color:h[n]},children:t}):null}},56820:function(e,n,t){t.d(n,{G2:function(){return l},Hq:function(){return s},aR:function(){return d},dZ:function(){return f}});var r=t(97360),i=t(62946),o=t(18171),a=t(83344),u=t(87978),c=t(12583),l=(0,i.cn)(null),s=function(){return(0,i.b9)(l,r.l)},d=function(e){var n=(0,o.Z)((function(){return(0,i.cn)((function(n){var t=n(l);return e===t}))}),[e]);return(0,i.Dv)(n,r.l)},f=function(e){var n=(0,o.Z)((function(){return(0,i.cn)((function(n){var t=n(l);return!!t&&((0,a.pC)(e,t)||e===c.Ql&&1===(0,u.U$)(t))}))}),[e]);return(0,i.Dv)(n,r.l)}},96166:function(e,n,t){t.d(n,{$E:function(){return C},BM:function(){return x},Dm:function(){return b},G:function(){return l},GQ:function(){return f},LM:function(){return h},Oh:function(){return m},P0:function(){return g},Uo:function(){return v},Up:function(){return p},Z1:function(){return T},dd:function(){return c},eN:function(){return w},gI:function(){return s},n1:function(){return y},tf:function(){return Z}});var r=t(62946),i=t(97360),o=t(53397),a=t(18171),u=t(87978),c=(t(50959),(0,r.cn)({flags:{flagFiletreeMultiselect:!1},preferences:{multiselectModifierKey:"altKey"},readOnly:!1,openFile:function(e){},shouldHideFile:function(){return!1},sortNode:function(e,n){return(0,u.x$)(e,n)},onError:function(){},onAction:function(){}})),l=function(e){var n=(0,a.Z)((function(){return(0,o.kv)(c,(function(n){return Boolean(n.flags[e])}))}),[e]);return(0,r.Dv)(n,i.l)},s=(0,r.cn)((function(e){return e(c).preferences})),d=(0,r.cn)((function(e){return e(c).readOnly})),f=function(){return(0,r.Dv)(d,i.l)},h=(0,r.cn)((function(e){return e(c).watchDir})),p=(0,r.cn)((function(e){return e(c).openFile})),v=(0,r.cn)((function(e){return e(c).shouldHideFile})),g=(0,r.cn)((function(e){return e(c).deleteDir})),m=(0,r.cn)((function(e){return e(c).deleteFile})),y=(0,r.cn)((function(e){return e(c).moveFile})),b=(0,r.cn)((function(e){return e(c).moveDir})),x=(0,r.cn)((function(e){return e(c).readFile})),w=(0,r.cn)((function(e){return e(c).onError})),Z=(0,r.cn)((function(e){return e(c).onAction})),E=(0,r.cn)((function(e){return e(c).onFileDragEnd})),T=function(){return(0,r.Dv)(E,i.l)},S=(0,r.cn)((function(e){return e(c).onFileDoubleClick})),C=function(){return(0,r.Dv)(S,i.l)}},41773:function(e,n,t){t.d(n,{Hl:function(){return Z},IF:function(){return g},IU:function(){return w},QF:function(){return E},kN:function(){return x}});var r=t(50959),i=t(18171),o=t(4561),a=t(53397),u=t(84840),c=t(97360),l=t(62946),s=t(56820),d=t(99950),f=t(96166),h=t(12583),p=t(87978),v=t(9419),g=function(e){var n=(0,i.Z)((function(){return(0,a.kv)(u.Aw,(function(n){var t,r;return(null===(t=n[e])||void 0===t||null===(r=t.children)||void 0===r?void 0:r.map((function(e){return e.filename})))||[]}))}),[e]);return(0,l.Dv)(n,c.l)},m=(0,l.cn)(null),y=(0,l.cn)(null),b=(0,l.cn)(null,(function(e,n,t){if(n(y,t),t){var r=e(s.G2);if(r){var i=e(u.Aw);if(r&&Object.prototype.hasOwnProperty.call(i,r))n(m,r),n(v.Uk,{path:r,expanded:!0});else{var o=(0,p.Il)(r)||h.Ql;n(m,o)}e(f.tf)({action:"added",source:"filetree",fileType:t})}else n(m,h.Ql)}else n(m,null)})),x=function(){return(0,l.Dv)(y,c.l)},w=function(e){var n=(0,i.Z)((function(){return(0,l.cn)((function(n){var t=n(y),r=n(m);return t&&e===r}))}),[e]);return(0,l.Dv)(n,c.l)},Z=function(){return(0,l.b9)(b,c.l)},E=function(){return(0,a.lV)(r.useCallback((function(e,n,t){n(y,null);var r=t.path,i=t.type,a=e(f.Up);n(s.G2,r),n(d.cf,r),i===o.Tv.File&&a(r,{newTab:!1})}),[]),c.l)}},4286:function(e,n,t){t.d(n,{Db:function(){return f},Fe:function(){return s},Hv:function(){return l},_7:function(){return h},tO:function(){return c},zA:function(){return d}});var r=t(57135),i=t(96583),o=t(4561),a=t(62946),u=t(96166),c=(0,a.cn)([]),l=function(e){if(1===e.length)return e[0].type===o.Tv.File?"file":"folder";if(e.length>1){var n=e.filter((function(e){return e.type===o.Tv.File})).length,t=e.filter((function(e){return e.type===o.Tv.Directory})).length,r=n>1?"files":"file",i=t>1?"folders":"folder",a="file";return n>0&&t>0?a="".concat(r," and ").concat(i):n>0?a="".concat(r):t>0&&(a="".concat(i)),"".concat(a)}return""},s=(0,a.cn)((function(e){var n=e(c),t=n.slice(0,5).map((function(e){return e.path})).join(", ");return n.length>5?"".concat(t," and ").concat(n.length-5," more ").concat(l(n.slice(5))):t})),d=(0,a.cn)((function(e){var n=e(c),t=l(n);return 1===n.length?t:"".concat(n.length," ").concat(t)})),f=(0,a.cn)([]),h=(0,a.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,a,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=e(u.Oh),a=e(u.P0),c=e(u.eN),i.label=1;case 1:return i.trys.push([1,3,4,5]),n(f,t),[4,Promise.all(t.map((function(e){return a&&r?e.type===o.Tv.Directory?a(e.path).then((function(e){var n=e.error;if(n)throw n})):r(e.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),[3,5];case 3:return l=i.sent(),c("Something went wrong trying to delete files: ".concat(l)),[3,5];case 4:return n(f,[]),[7];case 5:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())},37975:function(e,n,t){t.d(n,{Hm:function(){return u},xj:function(){return c}});var r=t(62946),i=t(50959),o=t(97360),a=(0,r.cn)([]),u=function(){return(0,r.KO)(a,o.l)};function c(e){var n=(0,r.b9)(a,o.l);i.useEffect((function(){n(e)}),[e,n])}},9419:function(e,n,t){t.d(n,{Fz:function(){return w},Th:function(){return Z},Uk:function(){return b},dg:function(){return y},p$:function(){return E}});var r=t(57389),i=t(72006),o=t(4405),a=t(9970),u=t(18171),c=t(12583),l=t(62946),s=t(53397),d=t(50959),f=t(56726),h=t(38258),p=t(84840),v=t(97360),g=t(18072),m=t(87978),y=function(e){var n=(0,u.Z)((function(){return(0,s.kv)(p.Aw,(function(n){return n[e]}))}),[e]),t=(0,h.k)(),r=(0,f.l)(),d=(0,u.Z)((function(){return(0,l.cn)((function(u){var l,s=u(n);if(s){var d=u(g.v).filter((function(n){var t,r=(0,m.Il)(n.path)||c.Ql,i=(0,m.UO)(n.path),o=r===e,a=null===(t=s.children)||void 0===t?void 0:t.some((function(e){return e.filename===i}));return o&&!a})).map((function(e){return{filename:(0,m.UO)(e.path),type:e.type,path:e.path,isOptimistic:!0}}));return(0,o.Z)((0,i.Z)({},s),{children:(0,a.Z)(d).concat((0,a.Z)((null===(l=s.children)||void 0===l?void 0:l.map((function(n){var t=n.filename;return{filename:t,type:n.type,path:e===c.Ql?t:"".concat(e,"/").concat(t)}})))||[])).filter(t).sort(r)})}}))}),[n,e,t,r]);return(0,l.Dv)(d,v.l)},b=(0,l.cn)(null,(function(e,n,t){var a,u=t.path,c=t.expanded,l=e(p.Aw);(null===(a=l[u])||void 0===a?void 0:a.expanded)!==c&&(c&&n(p.AQ,{path:u}),n(p.Aw,(0,o.Z)((0,i.Z)({},l),(0,r.Z)({},u,(0,o.Z)((0,i.Z)({},l[u]),{expanded:c})))))})),x=(0,l.cn)(null,(function(e,n,t){var r,i=null===(r=e(p.Aw)[t])||void 0===r?void 0:r.expanded;n(b,{path:t,expanded:!i})})),w=function(){return(0,l.b9)(x,v.l)},Z=(0,l.cn)(null,(function(e,n,t){if(null!=t){var r=t.split("/").slice(0,-1);r.map((function(e,n){return r.slice(0,n+1).join("/")})).forEach((function(e){n(b,{path:e,expanded:!0})}))}})),E=function(e){var n=(0,l.b9)(b,v.l);return{expand:d.useCallback((function(){n({path:e,expanded:!0})}),[e,n]),collapse:d.useCallback((function(){n({path:e,expanded:!1})}),[e,n])}}},38258:function(e,n,t){t.d(n,{X:function(){return u},k:function(){return c}});var r=t(62946),i=t(97360),o=t(96166),a=t(18072),u=(0,r.cn)((function(e){var n=e(o.Uo),t=e(a.o);return function(e){var r=e.path;return!n(r)&&!t.find((function(e){return e.path===r}))}})),c=function(){return(0,r.Dv)(u,i.l)}},84840:function(e,n,t){t.d(n,{AQ:function(){return m},Aw:function(){return p},Ol:function(){return y},Yc:function(){return b}});var r=t(57389),i=t(72006),o=t(4405),a=t(50959),u=t(12583),c=t(62946),l=t(97360),s=t(92153),d=t(18171),f=t(96166),h=(0,c.cn)({}),p=(0,c.cn)({}),v=(0,c.cn)(null,(function(e,n,t){var r=e(h),i=(0,s.ZP)(r,(function(e){delete e[t]}));n(h,i)})),g=(0,c.cn)(null,(function(e,n){var t=e(h),r=Object.values(t),i=!0,o=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){(0,u.value)()}}catch(l){o=!0,a=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}n(h,{})})),m=(0,c.cn)(null,(function(e,n,t){var a=t.path,u=e(f.LM),c=e(h);if(!c[a]&&u){var l=u(a,{onChange:function(t){var u=e(p);n(p,(0,o.Z)((0,i.Z)({},u),(0,r.Z)({},a,(0,o.Z)((0,i.Z)({},u[a]),{children:t}))))},onMoveOrDelete:function(){n(v,a);var t=e(p),r=(0,s.ZP)(t,(function(e){delete e[a]}));n(p,r)},onError:function(t){var r=e(p),u=(0,s.ZP)(r,(function(e){e[a]=(0,o.Z)((0,i.Z)({},e[a]),{error:t})}));n(p,u)}}),d=(0,s.ZP)(c,(function(e){e[a]=l}));n(h,d)}})),y=function(){var e=(0,c.b9)(m,l.l);return(0,d.Z)((function(){return function(n){return e({path:n})}}),[e])},b=function(){var e=y(),n=(0,c.b9)(g,l.l);a.useEffect((function(){return e(u.Ql),function(){n()}}),[n,e])}},18894:function(e,n,t){t.d(n,{C5:function(){return v},Mu:function(){return g},yj:function(){return m}});var r=t(57135),i=t(96583),o=t(88541),a=t(18171),u=t(12404),c=t(49760),l=t(38567),s=t(97360),d=t(62946),f=t(50959),h=t(83344),p=(0,d.cn)(null);function v(){var e=(0,d.b9)(p,s.l),n=(0,o.P5)({controlName:"flag-filetree-git-status",logFlagToAnalytics:!1}),t=(0,l.Z)(function(){var e=(0,r.Z)((function(e){var t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n?[4,e.getRepositoryState()]:[2,{status:null,error:null}];case 1:return(t=i.sent()).error?[2,t]:t.type!==u.y5.NORMAL?[2,{status:null,error:null}]:[4,e.status()];case 2:return(r=i.sent()).error?[2,r]:[2,{status:r,error:null}]}}))}));return function(n){return e.apply(this,arguments)}}(),[n]),a=t&&!t.error?t.status:null;(0,f.useEffect)((function(){return e(a)}),[e,a])}function g(e){var n=(0,a.Z)((function(){return(0,d.cn)((function(n){var t=n(p);if(!t)return null;var r=t.changes.find((function(n){return n.path===e}));return r?r.type.worktree!==c.h.UNMODIFIED?r.type.worktree:r.type.index!==c.h.UNMODIFIED?r.type.index:null:null}))}),[e]);return(0,d.Dv)(n,s.l)}function m(e){var n=(0,a.Z)((function(){return(0,d.cn)((function(n){var t=n(p);if(!t)return null;var r=t.changes.filter((function(n){return(0,h.yr)(e,n.path)}));return 0===r.length?null:{type:r.every((function(e){return e.type.index===c.h.ADDED||e.type.worktree===c.h.UNTRACKED}))?c.h.ADDED:c.h.MODIFIED,count:r.length}}))}),[e]);return(0,d.Dv)(n,s.l)}},27437:function(e,n,t){t.d(n,{D:function(){return u},S:function(){return s}});var r=t(74985),i=t(50959),o=t(62946),a=t(97360),u=function(e){var n=e.children;return(0,r.tZ)(o.zt,{scope:a.l,children:n})},c=t(99950),l=t(96166),s=function(e){var n=(0,o.b9)(l.dd,a.l);i.useEffect((function(){n(e)}),[e,n]);var t=e.activeFile,r=(0,c.Hc)();i.useEffect((function(){t&&r(t)}),[t,r])}},77474:function(e,n,t){t.d(n,{GC:function(){return h},dK:function(){return l},nx:function(){return d},oV:function(){return s},ub:function(){return f}});var r=t(57135),i=t(96583),o=t(4561),a=t(83344),u=t(62946),c=t(96166),l=(0,u.cn)([]),s=(0,u.cn)([]),d=(0,u.cn)([]),f=(0,u.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,a,u,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=e(c.n1),a=e(c.Dm),u=e(c.eN),i.label=1;case 1:return i.trys.push([1,3,4,5]),n(l,t),[4,Promise.all(t.map((function(e){var n=e.src,t=e.dst;return r&&a?n.type===o.Tv.Directory?a(n.path,t.path).then((function(e){var n=e.error;if(n)throw n})):r(n.path,t.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),u("Something went wrong trying to move files: ".concat(s)),[3,5];case 4:return n(l,[]),[7];case 5:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()),h=(0,u.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,u,l,s,d,h,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=t.moveOps,u=t.dstConflicts,l=e(c.Oh),s=e(c.P0),d=e(c.eN),i.label=1;case 1:if(i.trys.push([1,3,,4]),h=u.some((function(e){return r.some((function(n){var t=n.src;return(0,a.yr)(e.path,t.path)}))})),h)throw new Error("Cannot overwrite ancestor folder with the same name");return[4,Promise.all(u.map((function(e){return s&&l?e.type===o.Tv.Directory?s(e.path).then((function(e){var n=e.error;if(n)throw n})):l(e.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),n(f,r),[3,4];case 3:return p=i.sent(),d("Something went wrong trying to overwrite files: ".concat(p)),[3,4];case 4:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())},18072:function(e,n,t){t.d(n,{o:function(){return u},v:function(){return c}});var r=t(9970),i=t(62946),o=t(4286),a=t(77474),u=(0,i.cn)((function(e){var n=e(o.Db),t=e(a.dK).map((function(e){return e.src}));return(0,r.Z)(n).concat((0,r.Z)(t))})),c=(0,i.cn)((function(e){return e(a.dK).map((function(e){return e.dst}))}))},5128:function(e,n,t){t.d(n,{D3:function(){return f},E7:function(){return d},d5:function(){return h}});var r=t(57135),i=t(96583),o=t(50959),a=t(53397),u=t(77474),c=t(97360),l=t(62946),s=(0,l.cn)(null),d=function(){return(0,l.Dv)(s,c.l)},f=function(){return(0,l.b9)(s,c.l)},h=function(){return(0,a.lV)(o.useCallback(function(){var e=(0,r.Z)((function(e,n,t){var r,o,a;return(0,i.__generator)(this,(function(e){return r=t.path,o=t.to,a=t.fileType,n(u.ub,[{src:{path:r,type:a},dst:{path:o,type:a}}]),[2]}))}));return function(n,t,r){return e.apply(this,arguments)}}(),[]),c.l)}},99950:function(e,n,t){t.d(n,{ON:function(){return R},m5:function(){return C},dv:function(){return S},cf:function(){return k},IQ:function(){return U},uH:function(){return F},uF:function(){return P},n5:function(){return I},yQ:function(){return O},AM:function(){return N},qp:function(){return _},Hc:function(){return Z},lK:function(){return q}});var r=t(57389),i=t(72006),o=t(92153),a=t(62946),u=t(4561),c=t(97360),l=t(18171),s=t(53397),d=t(84840),f=t(12583),h=t(56726),p=t(38258),v=t(10628);function g(e){var n=e.path,t=e.dirInfo,r=e.filterNode,i=e.sortNode,o=e.isRootPath,a=o(n)?[]:[{path:n,type:u.Tv.Directory}],c=t[n];if(!c)return a;var l=c.children,s=c.error;return!c.expanded&&!o(n)||s||null===l||void 0===l||l.map((function(e){var t=e.filename;return{filename:t,type:e.type,path:n===f.Ql?t:"".concat(n,"/").concat(t)}})).filter(r).sort(i).forEach((function(e){var n=e.type,c=e.path;n===u.Tv.Directory?(0,v.f)(a,g({path:c,dirInfo:t,filterNode:r,sortNode:i,isRootPath:o})):a.push({type:n,path:c})})),a}var m=(0,a.cn)((function(e){return g({path:f.Ql,dirInfo:e(d.Aw),filterNode:e(p.X),sortNode:e(h.o),isRootPath:function(e){return e===f.oh||e===f.Ql}})})),y=t(56820),b=t(9419),x=t(87978),w=(0,a.cn)(null,(function(e,n,t){n(y.G2,t),n(k,t),n(b.Th,t)})),Z=function(){return(0,a.b9)(w,c.l)},E=(0,a.cn)({}),T=(0,a.cn)({}),S=(0,a.cn)((function(e){var n=e(E),t=e(T);return(0,i.Z)({},n,t)})),C=(0,a.cn)((function(e){var n=e(d.Aw),t=e(S);return Object.keys(t).map((function(e){return{path:e,type:Object.prototype.hasOwnProperty.call(n,e)?u.Tv.Directory:u.Tv.File}}))})),R=(0,a.cn)((function(e){var n=e(C);return(0,x.RQ)(n)})),k=(0,a.cn)(null,(function(e,n,t){n(E,t?(0,r.Z)({},t,!0):{}),n(T,{})})),D=(0,a.cn)(null,(function(e,n,t){var r=e(E),i=e(T),a=(0,o.ZP)(r,(function(e){e[t]||i[t]?delete e[t]:e[t]=!0}));n(E,a);var u=(0,o.ZP)(i,(function(e){e[t]&&delete e[t]}));n(T,u)})),A=(0,a.cn)(null,(function(e,n,t){var r=e(m);if(r){var i=r.findIndex((function(e){return e.path===t})),a=e(y.G2),u=r.findIndex((function(e){return e.path===a})),c=r.slice(Math.min(i,u),Math.max(i,u)+1),l=e(E),s=(0,o.ZP)(l,(function(e){c.forEach((function(n){e[n.path]&&delete e[n.path]}))}));n(E,s);var d=c.reduce((function(e,n){return e[n.path]=!0,e}),{});n(T,d)}})),I=function(e){var n=(0,l.Z)((function(){return(0,s.kv)(S,(function(n){return n[e]}))}),[e]);return(0,a.Dv)(n,c.l)},N=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(S),r=n(m),i=r.findIndex((function(n){return n.path===e}));if(i<0)return!1;var o=r[i-1];return o&&Object.hasOwnProperty.call(t,o.path)}))}),[e]);return(0,a.Dv)(n,c.l)},P=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(S),r=n(m),i=r.findIndex((function(n){return n.path===e}));if(i<0)return!1;var o=r[i+1];return o&&Object.hasOwnProperty.call(t,o.path)}))}),[e]);return(0,a.Dv)(n,c.l)},O=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(m),r=t.findIndex((function(n){return n.path===e}));if(r<0)return!1;var i=t[r],o=t[r-1];return!!o&&(0,x.U$)(o.path)<=(0,x.U$)(i.path)}))}),[e]);return(0,a.Dv)(n,c.l)},F=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(m),r=t.findIndex((function(n){return n.path===e}));if(r<0)return!1;var i=t[r],o=t[r+1];return!!o&&(0,x.U$)(o.path)<=(0,x.U$)(i.path)}))}),[e]);return(0,a.Dv)(n,c.l)},_=function(){return(0,a.b9)(k,c.l)},q=function(){return(0,a.b9)(D,c.l)},U=function(){return(0,a.b9)(A,c.l)}},56726:function(e,n,t){t.d(n,{l:function(){return u},o:function(){return a}});var r=t(62946),i=t(97360),o=t(96166),a=(0,r.cn)((function(e){return e(o.dd).sortNode})),u=function(){return(0,r.Dv)(a,i.l)}},97360:function(e,n,t){t.d(n,{l:function(){return r}});var r=Symbol("filetree")},13902:function(e,n,t){t.d(n,{MY:function(){return v},WU:function(){return c},em:function(){return f},fN:function(){return p},j3:function(){return d},mJ:function(){return s},mV:function(){return l}});var r=t(2272),i=(t(18171),t(92153)),o=t(42445),a=t(29203),u=(0,o.cn)(new Map),c=(0,o.cn)(null,(function(e,n,t){var r=t.messageId,o=t.abortController,a=(0,i.ZP)(e(u),(function(e){e.set(r,o)}));n(u,a)})),l=(0,o.cn)(null,(function(e,n,t){var r=t.messageId,o=(0,i.ZP)(e(u),(function(e){e.delete(r)}));n(u,o)})),s=(0,o.cn)(null,(function(e,n){var t=(0,i.ZP)(e(u),(function(e){var n=!0,t=!1,i=void 0;try{for(var o,a=e.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=(0,r.Z)(o.value,2);u[0];u[1].abort()}}catch(c){t=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(t)throw i}}e.clear()}));n(u,t)})),d=function(){return(0,a.c1)(u).size>0},f=function(){return(0,a.$X)(s)},h=(0,o.cn)(new Set),p=(0,o.cn)(null,(function(e,n,t){var r=t.message,o=r.id,a=r.loading,u=(0,i.ZP)(e(h),(function(e){a?e.add(o):e.delete(o)}));n(h,u)})),v=function(){return(0,a.c1)(h).size>0}},21225:function(e,n,t){t.d(n,{a:function(){return c},g:function(){return u}});var r=t(29203),i=t(42445),o=t(85234),a=t.n(o),u=(0,i.cn)(a()()),c=function(){return(0,r.c1)(u)}},40207:function(e,n,t){t.d(n,{Cd:function(){return g},KI:function(){return h},Og:function(){return p},Oy:function(){return v},RN:function(){return l},YY:function(){return d},d$:function(){return c},nE:function(){return u},wK:function(){return f}});var r=t(72006),i=t(42445),o=t(92153),a=t(29203),u=(0,i.cn)(!1),c=function(){return(0,a.c1)(u)},l=function(){return(0,a.wM)(u)},s=(0,i.cn)({}),d=(0,i.cn)(null,(function(e,n,t){var i=t.id,a=t.debugInfo,u=e(s),c=(0,o.ZP)(u,(function(e){e[i]||(e[i]={}),e[i]=(0,r.Z)({},e[i],a)}));n(s,c)})),f=function(e){var n=e.messageId;return(0,a.c1)(s)[n]},h=(0,i.cn)(""),p=function(){return(0,a.c1)(h)},v=(0,i.cn)(""),g=function(){return(0,a.c1)(v)}},52364:function(e,n,t){t.d(n,{Cd:function(){return h.Cd},Gd:function(){return B},J:function(){return G},Jc:function(){return k},Og:function(){return h.Og},ZT:function(){return q},gp:function(){return O},ql:function(){return j},zu:function(){return D}});var r=t(88733),i=t(57135),o=t(72006),a=t(4405),u=t(96583),c=t(42445),l=t(85234),s=t.n(l),d=t(64918),f=t(49146),h=t(40207),p=t(54761),v=t(21225),g=t(39691),m=t(625),y=t(69365),b=t(92153),x=t(13902),w=t(11796),Z=t(62506),E=t(5293),T=t(50959),S=t(2749),C=t(29203),R=(0,c.cn)(""),k=function(){return(0,C.wM)(R)},D=function(){return(0,C.wM)(p.qw)},A=(0,c.cn)(new Set),I=(0,c.cn)(null,(function(e,n,t){var r=(0,b.ZP)(e(A),(function(e){e.add(t)}));n(A,r)})),N=(0,c.cn)(null,(function(e,n,t){var r=(0,b.ZP)(e(A),(function(e){e.delete(t)}));n(A,r)})),P=(0,c.cn)((function(e){return e(A).size>0})),O=function(){return(0,C.c1)(P)};function F(e){return{user:e.attribution,message:e.text}}var _=(0,c.cn)(null,function(){var e=(0,i.Z)((function(e,n){return(0,u.__generator)(this,(function(e){return n(x.mJ),n(p.qw,[]),n(v.g,s()()),[2]}))}));return function(n,t){return e.apply(this,arguments)}}()),q=function(){return(0,C.$X)(_)},U=(0,c.cn)(null,function(){var e=(0,i.Z)((function(e,n,t){var i,c,l,s,b,E,T,S,C,R,k,D,A,I,N,P,O,_,q,U,L,z,j,B,G,M,W,Q,H,V,X,K,Y,J,$;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:i=t.chatInput,c=t.responseId,l=i.chatMessage,s=i.workspaceContext,b=i.messages,E=l.text,T=l.type,S=l.codeReference,C="chat"===l.type?l.action:void 0,R=e(Z.p),k=s.fileContext,D=s.mostRecentFile,(0,m.j)(m.U3.GHOSTWRITER_CHAT_MESSAGE_SENT,{type:T,meteredTrial:R.hasAccessToMeteredTrial,meteredTrialMaxCap:R.cap,meteredTrialMessagesSentSoFar:R.messagesSentInPeriod}),A=e(v.g),I=e(g.aK),N=e(g.gL),R.hasAccessToMeteredTrial&&(P=R.messagesSentInPeriod+1,n(Z.p,(0,a.Z)((0,o.Z)({},R),{messagesSentInPeriod:P,hasAccessToMeteredTrial:R.cap>P}))),O={id:c,type:T,codeReference:S,text:"",loading:!0,author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"},_=new AbortController,n(x.WU,{messageId:c,abortController:_}),u.label=1;case 1:if(u.trys.push([1,15,16,17]),n(y.Et,!0),q=function(e){var n=function(e){return!e.loading&&!e.error};return e.filter((function(t,r){return!(r<e.length-1&&!n(e[r+1]))&&n(e[r])})).map(F)}(b),U=performance.now(),L=void 0,!(0,d.uL)(I))throw new Error("Invalid chat model");return z={fileContext:k,mostRecentFile:D},[4,fetch("/ai/chat2",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({chatHistory:q,message:{type:T,text:E,action:C,codeReference:S},model:I,replId:N,chatId:A,context:z}),signal:_.signal})];case 2:if(200!==(j=u.sent()).status)throw new Error("Request failed");if(!j.body)throw new Error("Expected body on response object");B=void 0,G=(0,w.U)((0,w.n)(j.body)),M="",W=!1,Q=!1,u.label=3;case 3:u.trys.push([3,8,9,14]),V=function(){var e=K.value,t=e.trim().split("\n\n").map((function(n){try{return JSON.parse(n)}catch(J){throw f.kg.error("Ghostwriter Chat Error parsing JSON client side",{streamResponse:e,failedToParse:n,error:J.message}),J}}));t.forEach((function(t){if(t.type===d.xA.Intent&&(B=t.intent),t.type===d.xA.Debug){var r=t;n(h.KI,r.fullPrompt),n(h.YY,{id:c,debugInfo:{fullPrompt:r.fullPrompt}}),n(h.YY,{id:c,debugInfo:{workspaceContext:z}})}if(t.type===d.xA.Error)throw f.kg.error("ghostwriter chat client response stream error",{replid:N,chatId:A,chatModel:I,messageId:c,originalResponse:e}),new Error("Sorry, I had an issue generating the response.");if(t.type===d.xA.Response){L||(L=performance.now()-U,f.kg.time("ghostwriter chat time to first stream",L,{replid:N,chatId:A,chatModel:I,messageId:c}),n(h.YY,{id:c,debugInfo:{timeToFirstStream:L}}));var i=t,o=i.stopReason;null!==i.stopReason&&(n(h.Oy,i.stopReason),n(h.YY,{id:c,debugInfo:{stopReason:i.stopReason}}),o=i.stopReason),M+=i.data,O={id:c,type:null!==T&&void 0!==T?T:"chat",codeReference:S,text:M,intent:B,author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant",inferenceId:i.id,stopReason:o},n(p.Mk,{message:O})}}))},X=(0,r.Z)(G),u.label=4;case 4:return[4,X.next()];case 5:if(!(W=!(K=u.sent()).done))return[3,7];V(),u.label=6;case 6:return W=!1,[3,4];case 7:return[3,14];case 8:return Y=u.sent(),Q=!0,H=Y,[3,14];case 9:return u.trys.push([9,,12,13]),W&&null!=X.return?[4,X.return()]:[3,11];case 10:u.sent(),u.label=11;case 11:return[3,13];case 12:if(Q)throw H;return[7];case 13:return[7];case 14:return[3,17];case 15:return J=u.sent(),R.hasAccessToMeteredTrial&&n(Z.p,(0,a.Z)((0,o.Z)({},R),{messagesSentInPeriod:R.messagesSentInPeriod,hasAccessToMeteredTrial:R.cap>R.messagesSentInPeriod})),n(y.Et,!1),"AbortError"===J.name?(n(p.Mk,{message:(0,a.Z)((0,o.Z)({},O),{aborted:!0})}),[2]):(n(p.b9,{messageId:c,error:"Sorry, I had an issue generating the response."}),f.kg.error("ghostwriter chat client response error",{replid:N,chatId:A,chatModel:I,messageId:c,originalError:null!==($=null===J||void 0===J?void 0:J.message)&&void 0!==$?$:J}),[3,17]);case 16:return n(x.mV,{messageId:c}),[7];case 17:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()),L=(0,c.cn)(null,function(){var e=(0,i.Z)((function(e,n,t){var r,i,o,a,c,l,d,f,h,v,m;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return r=t.text,i=t.type,o=t.codeReference,a=r.trim(),c=e(p.qw),(l=e(g.db))?("explainCode"===t.type&&n(p.qw,c.filter((function(e){var n,r;return!("explainCode"===e.type&&(null===(n=e.codeReference)||void 0===n?void 0:n.filePath)===(null===(r=t.codeReference)||void 0===r?void 0:r.filePath))}))),d=s()(),f=s()(),n(I,d),h={id:d,type:i,codeReference:o,text:a,author:{username:l.username,image:l.image},attribution:"Human"},n(p.TC,{message:h}),v={id:f,type:i,codeReference:o,loading:!0,text:"Please wait while I think through your request\u2026",author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"},n(p.OV,{message:v}),[4,e(g.Iu).promise]):[2];case 1:return u.sent(),[4,e(E.N0)()];case 2:m=u.sent(),u.label=3;case 3:return u.trys.push([3,,5,6]),[4,n(U,{chatInput:{chatMessage:{text:a,type:i,codeReference:o},workspaceContext:m,messages:c},responseId:f})];case 4:return u.sent(),[3,6];case 5:return n(N,d),[7];case 6:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()),z=(0,c.cn)(null,function(){var e=(0,i.Z)((function(e,n,t){var r,i,o,a,c,l,s,d,h,v,m,y;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return r=t.responseId,i=t.action,o=e(p.qw),a=o.findIndex((function(e){return e.id===r})),(c=-1!==a&&"Assistant"===o[a].attribution)?(l=o.slice(0,a),(s=l.pop())?(n(I,s.id),d=s.text,h=s.type,v=s.codeReference,m={id:r,type:h,codeReference:v,loading:!0,text:"Please wait while I think through your request\u2026",author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"},n(p.Mk,{message:m}),[4,e(g.Iu).promise]):(f.kg.error("GW Chat error no human message before response message"),[2])):(f.kg.error("GW Chat error regenerate assistant message",{responseId:r,isResponseAssistantMessage:c}),[2]);case 1:return u.sent(),[4,e(E.N0)()];case 2:y=u.sent(),u.label=3;case 3:return u.trys.push([3,,5,6]),[4,n(U,{chatInput:{chatMessage:{text:d,type:h,codeReference:v,action:i},messages:l,workspaceContext:y},responseId:r})];case 4:return u.sent(),[3,6];case 5:return n(N,s.id),[7];case 6:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()),j=function(){var e=(0,C.Uu)();return(0,S.lV)((0,T.useCallback)(function(){var e=(0,i.Z)((function(e,n,t){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,n(L,t.chatMessage)];case 1:return[2,e.sent()]}}))}));return function(n,t,r){return e.apply(this,arguments)}}(),[]),{store:e})},B=function(){var e=(0,C.Uu)();return(0,S.lV)((0,T.useCallback)(function(){var e=(0,i.Z)((function(e,n,t,r){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,n(z,{responseId:t,action:r})];case 1:return[2,e.sent()]}}))}));return function(n,t,r,i){return e.apply(this,arguments)}}(),[]),{store:e})},G=function(){var e=(0,x.j3)(),n=(0,x.MY)();return O()&&e&&!n}},54761:function(e,n,t){t.d(n,{Mk:function(){return s},OV:function(){return l},TC:function(){return c},b9:function(){return d},qw:function(){return u}});var r=t(9970),i=t(42445),o=t(92153),a=t(13902),u=(0,i.cn)([]),c=(0,i.cn)(null,(function(e,n,t){var i=t.message,o=e(u);n(u,(0,r.Z)(o).concat([i]))})),l=(0,i.cn)(null,(function(e,n,t){var i=t.message,o=e(u);n(a.fN,{message:i}),n(u,(0,r.Z)(o).concat([i]))})),s=(0,i.cn)(null,(function(e,n,t){var r=t.message,i=r.id,c=e(u),l=(0,o.ZP)(c,(function(e){var n;for(n=e.length-1;n>=0&&c[n].id!==i;n--);n>=0&&(e[n]=r)}));n(a.fN,{message:r}),n(u,l)})),d=(0,i.cn)(null,(function(e,n,t){var r=t.messageId,i=t.error,a=e(u),c=(0,o.ZP)(a,(function(e){var n=e.find((function(e){return e.id===r}));n&&(n.loading&&(n.text="",n.loading=!1),n.error=i)}));n(u,c)}))},69365:function(e,n,t){t.d(n,{Et:function(){return o},Z9:function(){return c},Z_:function(){return a},rM:function(){return l}});var r=t(29203),i=t(42445),o=(0,i.cn)(!1),a=function(){return(0,r.wM)(o)},u=(0,i.cn)(!1),c=function(){return(0,r.wM)(u)},l=function(){return(0,r.$X)(u)}},62506:function(e,n,t){t.d(n,{p:function(){return i},q:function(){return o}});var r=t(29203),i=(0,t(42445).cn)({hasAccessToMeteredTrial:!1,messagesSentInPeriod:0,cap:0}),o=function(){return(0,r.c1)(i)}},39691:function(e,n,t){t.d(n,{$e:function(){return m},Iu:function(){return v},Ne:function(){return p},aK:function(){return c},db:function(){return h},gL:function(){return l}});var r=t(5894),i=t(42445),o=t(61871),a=t(62506),u=t(29203),c=(0,i.cn)(r.Fp),l=(0,i.cn)(null),s=(0,i.cn)(void 0),d=(0,i.cn)(!0),f=(0,i.cn)(void 0),h=(0,i.cn)((function(e){var n;return null===(n=e(s))||void 0===n?void 0:n.currentUser})),p=function(){return{currentUserData:(0,u.c1)(s),currentUserLoading:(0,u.c1)(d),currentUserError:(0,u.c1)(f),chatModel:(0,u.c1)(c)}},v=(0,i.cn)((0,o.Z)()),g=(0,i.cn)(null,(function(e,n,t){var r,i,o=t.chatModel,u=t.replId,h=t.currentUserData,p=t.currentUserLoading,g=t.currentUserError;(n(c,o),n(l,u),n(s,h),n(d,p),n(f,g),h&&(null===h||void 0===h?void 0:h.currentUser))&&n(a.p,"UserPowerUpsTypes"===(null===h||void 0===h?void 0:h.currentUser.userPowerUpsByType.__typename)&&(null===(r=null===h||void 0===h?void 0:h.currentUser.userPowerUpsByType.ghostwriter)||void 0===r?void 0:r.meteredTrial)?null===(i=null===h||void 0===h?void 0:h.currentUser.userPowerUpsByType.ghostwriter)||void 0===i?void 0:i.meteredTrial:{messagesSentInPeriod:0,cap:0,hasAccessToMeteredTrial:!1});e(v).resolve(!0)})),m=function(){return(0,u.$X)(g)}},6009:function(e,n,t){t.d(n,{Kz:function(){return s},dp:function(){return p},u0:function(){return f}});var r=t(57135),i=t(96583),o=t(42445),a=t(48749),u=t(49146),c=t(29203),l=(0,o.cn)(""),s=function(){return(0,c.wM)(l)},d=(0,o.cn)(null),f=function(){return(0,c.wM)(d)},h=(0,o.cn)(null,function(){var e=(0,r.Z)((function(e,n){var t,r,o;return(0,i.__generator)(this,(function(i){return(t=e(d))&&(r=e(l),o=e(a.FF),u.kg.info("Ghostwriter Debugger error buffered",{debuggerBuffer:r,ghostwriterDebugError:t,inferredInterpreter:o})),n(l,""),n(d,null),[2]}))}));return function(n,t){return e.apply(this,arguments)}}()),p=function(){return(0,c.$X)(h)}},5293:function(e,n,t){t.d(n,{G6:function(){return d},N0:function(){return l},OT:function(){return h},Vx:function(){return c},f9:function(){return u}});var r=t(57135),i=t(96583),o=t(29203),a=t(42445),u={getGhostwriterWorkspaceFileContext:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return[2,{fileContext:[],mostRecentFile:null}]}))})),insertCodeButtonComponent:function(){return null},openGhostwriterPane:function(){}},c=(0,a.cn)(u),l=(0,a.cn)((function(e){return e(c).getGhostwriterWorkspaceFileContext})),s=(0,a.cn)((function(e){return e(c).insertCodeButtonComponent})),d=function(){return(0,o.c1)(s)},f=(0,a.cn)((function(e){return e(c).openGhostwriterPane})),h=function(){return(0,o.c1)(f)}},18180:function(e,n,t){t.d(n,{d:function(){return s}});var r=t(72006),i=t(43119),o=t(71440),a=t(89649);function u(){var e=(0,i.Z)(["\n  query GhostwriterChatStatusHook {\n    currentUser {\n      id\n      userPowerUpsByType {\n        __typename\n        ... on UserPowerUpsTypes {\n          ghostwriter {\n            active\n          }\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},l=(0,o.Ps)(u());var s=function(){var e,n=function(e){var n=(0,r.Z)({},c,e);return a.a(l,n)}().data;return"UserPowerUpsTypes"===(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.userPowerUpsByType.__typename)&&n.currentUser.userPowerUpsByType.ghostwriter.active}},79339:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(72006),i=t(74985),o=t(50959),a=t(47900),u=t(88167),c=t(78968),l=t(84358),s=t(18171),d=o.memo(a.ZP);function f(e){var n=e.source,t=e.sourcePos,o=e.fs,a=e.path,f=e.onCodeInsert,h=(0,u.l)(o,a),p=(0,l.Z)(n,100),v=(0,s.Z)((function(){return{img:h,a:function(e){return(0,i.tZ)(c.Z,(0,r.Z)({filePath:a},e))}}}),[h,a]);return(0,i.tZ)(d,{onCodeInsert:f,components:v,sourcePos:t,children:p})}},18196:function(e,n,t){t.d(n,{A:function(){return f},Z:function(){return d}});var r=t(74985),i=t(50959),o=t(87978),a=t(61284),u=t(39541),c=t(87076),l=t(63740),s=t(32104);function d(e){var n=e.fs,t=e.filePath,d=(0,i.useState)(null),h=d[0],p=d[1],v=(0,i.useState)(!0),g=v[0],m=v[1];return(0,i.useEffect)((function(){var e=n.watchFile(t,{onChange:function(e){p(e.toString("base64")),m(!1)},onError:function(){p(null),m(!1)},onMoveOrDelete:function(){p(null),m(!1)}});return function(){e(),m(!0),p(null)}}),[n,t]),g?(0,r.tZ)(s.Z,{}):h?(0,r.BX)(r.HY,{children:[(0,r.tZ)(f,{content:h,mime:(0,o.yC)(t)}),(0,r.tZ)(c.h,{alt:"Download",css:[u.l0.position.absolute,u.l0.bottom(8),u.l0.right(8),u.l0.p(16)],children:(0,r.tZ)("a",{href:"data:text/plain;base64,".concat(h),download:(0,o.UO)(t),css:[u.l0.color.foregroundDimmer],children:(0,r.tZ)(l.Z,{})})})]}):(0,r.tZ)(a.xv,{children:"Failed to load media file"})}var f=function(e){var n=e.content,t=e.mime,i=void 0===t?"":t;if(i.startsWith("video/"))return(0,r.tZ)("video",{src:"data:".concat(i,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(i.startsWith("image/"))return(0,r.tZ)("img",{alt:"Preview",src:"data:".concat(i,";base64,").concat(n),css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}});if(i.startsWith("audio/")){var o=i;return"audio/wave"===o&&(o="audio/wav"),(0,r.tZ)("audio",{src:"data:".concat(o,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===i?(0,r.tZ)("object",{data:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,r.tZ)("embed",{src:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%"}})}):(0,r.tZ)(a.xv,{children:"File type not supported."})}},87138:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(74985),i=(t(50959),t(2041)),o=t(61284),a=t(45510),u=t(85368),c=t(90171),l=t(39541),s=t(82893),d=t.n(s),f=t(72006),h=t(43119),p=t(71440),v=t(89649);function g(){var e=(0,h.Z)(["\n  query NotAllowedModal {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n  }\n"]);return g=function(){return e},e}var m={},y=(0,p.Ps)(g());var b=t(48330),x=t(66539),w=t(70719),Z=function(e){var n,t=e.isOpen,s=(0,c.useRouter)(),h=function(e){var n=(0,f.Z)({},m,e);return v.a(y,n)}({skip:!t}).data,p=(0,b.Z)(),g=null===h||void 0===h||null===(n=h.currentUser)||void 0===n?void 0:n.isStaff;return(0,r.tZ)(i.u,{preventClose:!0,isOpen:t,centered:!0,onRequestClose:function(){},maxWidth:600,children:(0,r.BX)(u.G,{css:[l.l0.colWithGap(32)],children:[(0,r.tZ)(u.G,{css:[l.l0.rowWithGap(16),l.l0.align.center],children:(0,r.tZ)(o.h4,{css:[{width:"fit-content"}],level:2,variant:"headerDefault",children:"You can\u2019t run this Repl right now."})}),(0,r.BX)(u.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(o.xv,{multiline:!0,children:["It may be temporarily unavailable or it may have violated our"," ",(0,r.tZ)(d(),{href:"/site/terms",children:"Terms of Service"}),"."]}),(0,r.tZ)(o.xv,{multiline:!0,children:"If you are the owner of this Repl and believe you should be able to run it, you can try again later or contact support."}),g?(0,r.BX)(u.G,{css:[l.l0.p(8),l.l0.colWithGap(8),l.l0.border({color:"var(--accent-negative-default)",width:1,style:"solid"}),l.l0.overflow("hidden")],children:[(0,r.BX)(u.G,{css:l.l0.rowWithGap(8),children:[(0,r.tZ)(x.u,{tooltip:"You are seeing this functionality because you have special permissions.",children:(0,r.tZ)(w.Z,{})}),(0,r.tZ)(o.h4,{level:3,children:"Debug Info"})]}),(0,r.tZ)(u.G,{children:(0,r.BX)(o.xv,{multiline:!0,children:["Repl ID ",p," is not allowed to run. This is most likely due to a policy takedown."]})}),(0,r.tZ)(u.G,{children:(0,r.BX)(o.xv,{children:[(0,r.tZ)(d(),{href:"https://app.datadoghq.com/logs?query=%40replid%3A".concat(p),children:"All datadog logs"})," ","\u2022"," ",(0,r.tZ)(d(),{href:"https://app.datadoghq.com/logs?query=%40replid%3A".concat(p,"+taking+down"),children:"Takedown-specific logs"})]})})]}):null]}),(0,r.BX)(u.G,{css:[l.l0.rowWithGap(16),l.l0.justify.end],children:[(0,r.tZ)(a.zx,{text:"Reload",onClick:function(){window.location.reload()}}),(0,r.tZ)(a.zx,{text:"Leave",onClick:function(){s.push("/home","~/")}})]})]})})}},33358:function(e,n,t){t.d(n,{Z:function(){return s}});var r,i=t(57389),o=t(74985),a=t(39541),u=t(66539),c=t(54873),l=(0,t(43312).iv)([a.l0.focusRing,a.l0.display.flex,a.l0.center,a.l0.borderRadius(4),a.l0.backgroundColor.backgroundRoot,a.l0.color.foregroundDefault,a.l0.cursor.pointer,a.l0.p(4),(r={transition:"background-color 0.2s",border:"none"},(0,i.Z)(r,a.wl.hover,[a.l0.backgroundColor.backgroundHigher]),(0,i.Z)(r,":focus",{outline:"none"}),r)]),s=function(e){var n=e.onClick;return(0,o.tZ)(u.u,{tooltip:"Clear",placement:"bottom-start",children:(0,o.tZ)("button",{"aria-label":"Clear",onClick:n,css:l,children:(0,o.tZ)(c.Z,{size:16})})})}},60447:function(e,n,t){t.d(n,{l:function(){return s}});var r,i=t(57389),o=t(74985),a=t(39541),u=t(66539),c=t(12260),l=(0,t(43312).iv)([a.l0.focusRing,a.l0.display.flex,a.l0.center,a.l0.borderRadius(4),a.l0.backgroundColor.backgroundRoot,a.l0.color.foregroundDefault,a.l0.cursor.pointer,a.l0.p(4),(r={transition:"background-color 0.2s",border:"none"},(0,i.Z)(r,a.wl.hover,[a.l0.backgroundColor.backgroundHigher]),(0,i.Z)(r,":focus",{outline:"none"}),r)]),s=function(e){var n=e.onClick;return(0,o.tZ)(u.u,{tooltip:"Search",placement:"bottom-start",children:(0,o.tZ)("button",{"aria-label":"Search",onClick:n,css:l,children:(0,o.tZ)(c.Z,{size:16})})})}},252:function(e,n,t){t.d(n,{R:function(){return l}});var r=t(74985),i=t(48306),o=t.n(i),a=t(39541),u=t(27522),c=t(50959);function l(e){var n=e.findNext,t=e.findPrevious,i=e.exit,l=(0,c.useRef)(null),s=(0,c.useState)(""),d=s[0],f=s[1];(0,c.useEffect)((function(){l.current&&l.current.focus()}),[]);return(0,r.BX)("div",{className:"jsx-cae03adee2975d4 search",children:[(0,r.tZ)("input",{ref:l,placeholder:"Find",value:d,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return function(e){"Escape"!==e.key?"Enter"===e.key&&(e.shiftKey?t(d):n(d)):i()}(e)},css:[a.l0.focusRing],className:"jsx-cae03adee2975d4"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return n(d)},children:"Next"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return t(d)},children:"Previous"}),(0,r.tZ)(u.Z,{size:"small",onClick:i,children:"Exit"}),(0,r.tZ)(o(),{id:"cae03adee2975d4",children:".search.jsx-cae03adee2975d4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:30px}input.jsx-cae03adee2975d4{padding:4px var(--space-8)var(--space-4);background-color:var(--background-default);color:var(--foreground-default);height:24px;width:85px;border:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}input.jsx-cae03adee2975d4::-webkit-input-placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4:-moz-placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4::-moz-placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4:-ms-input-placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4::-ms-input-placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4::placeholder{color:var(--foreground-default)}input.jsx-cae03adee2975d4:focus{outline:none;border:var(--accent-primary-default)}input.jsx-cae03adee2975d4,.search button{margin:0 var(--space-4)}"})]})}},55281:function(e,n,t){t.d(n,{Z:function(){return ee}});var r=t(2272),i=t(74985),o=t(43312),a=t(17074),u=t(94716),c=t(28229),l=t(42256),s=t(77511),d=t(13474),f=t(85368),h=t(39541),p=t(4143),v=t(57135),g=t(96583),m=t(50959),y=t(10841),b=t(6009),x=t(49146),w=/(((\w+Error)|(Error)): (.*)\r\n((?:\s+at .*\r\n)+))|(\/home\/runner(.*):\d+\r\n[\s\S]*((\w+Error)|(Error)): (.*)\r\n)/g,Z=/(Traceback.*\r\n)?( +File.*(\r\n.*){1,2})*\r\n.*((\wError:)|(Exception:)).*/g,E=["abort","error","exception","fail","fatal","panic","traceback"].map((function(e){return"[".concat(e[0].toLowerCase()).concat(e[0].toUpperCase(),"]").concat(e.slice(1))})).join("|"),T=new RegExp("(.*(".concat(E,")(.*\\r\\n)+?\\x1b\\[31m(.|\\r\\n)*?\\x1b\\[[0-9;]*m)|(.*\\x1b\\[31m.*?(").concat(E,")(.|\\r\\n)*?\\x1b\\[[0-9;]*m.*)"),"g"),S=/\x1b\[[0-9;]*[A-Za-z]/g;var C=t(48749),R=t(18180);function k(e,n){if(!e)return null;var t=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return"nodejs"===n?null!==e.match(w):"python3"===n?null!==e.match(Z):null!==e.match(T)}(e,n);return t?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",t=e.replace(S,""),r=null;return(r="nodejs"===n?t.match(w):"python3"===n?t.match(Z):e.match(T))?r[r.length-1].replace(S,""):(x.kg.error("Ghostwriter Chat Debugger had no error - this should not have happened",{errorBuffer:e,interpreter:n}),"")}(e,n):null}var D,A,I=t(57389),N=t(66539),P=t(47880),O=(0,o.iv)([h.l0.focusRing,h.l0.display.flex,h.l0.center,h.l0.borderRadius(4),h.l0.backgroundColor.blurpleDefault,h.l0.color.foregroundDefault,h.l0.cursor.pointer,h.l0.p(4),(D={transition:"background-color 0.2s",border:"none"},(0,I.Z)(D,h.wl.hover,[h.l0.backgroundColor.blurpleStronger]),(0,I.Z)(D,":focus",{outline:"none"}),D)]),F=function(e){var n=e.onClick;return(0,i.tZ)(N.u,{tooltip:"Debug with Ghostwriter",placement:"bottom-start",children:(0,i.tZ)("button",{"aria-label":"Debug with Ghostwriter",onClick:n,css:O,children:(0,i.tZ)(P.Z,{size:16})})})},_=t(9348),q=t(53028),U=t(52364),L=t(27495),z=t(33358),j=t(88281),B=t(70232);function G(e,n){var t,r;switch(e){case A.Init:t="5%",r="Loading...";break;case A.BlockMigration:t="10%",r="Optimizing files";break;case A.Booting:r="Booting Repl",t="20%";break;case A.LoadingFiles:r="Loading files",t="".concat(Math.floor(20+70*n).toString(),"%");break;case A.Ready:r="Ready",t="100%";break;default:(0,B.Z)(e)}return{percentString:t,message:r}}!function(e){e.Init="Init",e.BlockMigration="BlockMigration",e.Booting="Booting",e.LoadingFiles="LoadingFiles",e.Ready="Ready"}(A||(A={}));var M=(0,o.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function W(e){var n=e.onBootStatus,t=e.initialRunState,r=(0,m.useState)({current:t===y.A.OFFLINE?A.Init:A.Ready,previous:null}),o=r[0],a=r[1],u=(0,m.useState)(0),c=u[0],l=u[1];(0,m.useEffect)((function(){var e=0,t=0,r=null,i=null,o=function(){e=0,t=0,r=null,i&&(clearInterval(i),i=null)},u=n((function(n){var u;switch(function(n){var a=n.stage,u=n.progress,c=n.total;if(i&&clearInterval(i),a!==j.api.BootStatus.Stage.PULL_FILES&&a!==j.api.BootStatus.Stage.LOAD_BLOCK||!c)return o(),void l(0);if(!(e>u)&&t!==u){var s=Date.now(),d=0;d=r?(u-t)/(s-r)*50:5e4,r=s,t=u,i=setInterval((function(){(e+=d)>c&&(e=c),e=Math.max(e,u),l(e/c)}),50)}}(n),n.stage){case j.api.BootStatus.Stage.ACQUIRING:u=A.Booting;break;case j.api.BootStatus.Stage.BLOCK_MIGRATION:u=A.BlockMigration;break;case j.api.BootStatus.Stage.PULL_FILES:case j.api.BootStatus.Stage.LOAD_BLOCK:u=A.LoadingFiles;break;case j.api.BootStatus.Stage.COMPLETE:u=A.Ready;break;default:return}a((function(e){return e.current===u?e:{current:u,previous:e.current}}))}));return function(){o(),u()}}),[n]);var s=o.previous?G(o.previous,1):null,d=G(o.current,c);return(0,i.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:o.current===A.Ready?0:1},children:[(0,i.BX)("div",{children:[s?(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[s.message,o.previous===A.LoadingFiles&&" 100%"]},s.message):null,(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:M.toString(),animationDuration:"0.6s"},children:[d.message,o.current===A.LoadingFiles&&" ".concat(d.percentString)]},d.message)]}),(0,i.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,i.tZ)("div",{css:{height:"5px",width:d.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var Q=t(60447),H=t(252),V=t(99063);var X=(0,o.iv)([h.l0.flex.row,{opacity:"0",zIndex:100}]),K=(0,o.iv)([h.l0.flex.row,{zIndex:100}]),Y=(0,o.iv)([h.l0.flex.row,h.l0.center,h.l0.justify.end,h.l0.position.absolute,h.l0.top(8),h.l0.right(8),h.l0.minHeight(30)]),J=function(e,n){var t=e.tracker,o=e.runner,h=e.debugClient,w=e.packager,Z=e.onBootStatus,E=e.openPane,T=e.focusOnLoad,S=e.focusRef,D=e.openFile,A=e.listFiles,I=(0,r.Z)(function(e){var n=e.tracker,t=e.runner,i=e.debugClient,o=e.packager,a=e.openFile,u=e.listFiles,c=(0,r.Z)((0,_.Z)(a&&u?{openFile:a,listFiles:u}:void 0),2),l=c[0],s=c[1],d=(0,m.useState)(""),f=d[0],h=d[1],p=n||function(){};return(0,m.useEffect)((function(){if(!l)return t.onOutput((function(e){return h((function(n){return n+e}))}))}),[l,t,h]),(0,m.useEffect)((function(){if(!l&&o)return o.onOutput((function(e){return h((function(n){return n+e.replace(/\n/g,"\n\r")}))}))}),[l,o,h]),(0,m.useEffect)((function(){var e=function(e){if(!l)throw new Error("Expected xterm");l.write(e.replace(/\n/g,"\n\r"))};if(l&&o){var n=o.onOutput((function(n){e(n)})),t=o.onError((function(){return e("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),r=o.onStateChanged((function(n){n&&e("\n\nReplit: Updating package configuration\n\n")}));return function(){n(),t(),r()}}}),[l,o]),(0,m.useEffect)((function(){f&&l&&(p("user:run:output",{bufferedOutput:f}),l.write(f),h(""))}),[l,f]),(0,m.useEffect)((function(){if(l){var e=function(){t.getRunState()!==y.A.OFFLINE&&t.resizeTerminal(l.getSize())},n=[];n.push(l.onResize(e).dispose);var r=[];n.push(l.onData((function(e){var n=(0,V.I)(e);"running"!==(null===i||void 0===i?void 0:i.state.current)?t.getRunState()!==y.A.OFFLINE?t.sendInput(n):r.push(n):i.sendInput(n)})).dispose),n.push(t.onOutput((function(e){p("user:run:output",{output:e}),l.write(e)})));var o=!1;return n.push(t.onStateChanged((function(n){if(n!==y.A.OFFLINE){if(o||(e(),o=!0),r.length){var i=!0,a=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=c.value;t.sendInput(s)}}catch(d){a=!0,u=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}r=[]}}else o=!1}))),t.getRunState()!==y.A.OFFLINE&&(e(),o=!0),function(){n.forEach((function(e){return e()}))}}}),[l,t,i]),[l,s,h]}({tracker:t,runner:o,debugClient:h,packager:w,openFile:D,listFiles:A}),3),N=I[0],P=I[1],O=I[2],F=(0,r.Z)(m.useState(!1),2),q=F[0],U=F[1],j=(0,u.Z)(S);m.useEffect((function(){var e;null===(e=j.current)||void 0===e||e.call(j,N)}),[j,N]);var B=(0,u.Z)(T);m.useEffect((function(){N&&B.current&&N.focus()}),[N,B]);var G=function(e){var n=e.runner,t=(0,C.R$)(),i=(0,m.useState)(y.A.IDLE),o=i[0],a=i[1],u=(0,r.Z)((0,b.u0)(),2),c=u[0],l=u[1],s=(0,b.dp)(),d=(0,r.Z)((0,b.Kz)(),2),f=d[0],h=d[1],p=(0,R.d)(),w=(0,m.useCallback)(function(){var e=(0,v.Z)((function(e){return(0,g.__generator)(this,(function(n){return o!==y.A.RUNNING||h((function(n){return(n+e).slice(-2400)})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),[o,h]),Z=(0,m.useCallback)((function(e){e!==o&&(a(e),e!==y.A.RUNNING||s())}),[s,o]);return(0,m.useEffect)((function(){if(p){var e=setTimeout((function(){var e=k(f,t);e&&l(e)}),100);return function(){clearTimeout(e)}}}),[f,p,t,l]),(0,m.useEffect)((function(){if(p&&(x.kg.info("Ghostwriter Debugger inferred interpreter",{interpreter:t}),"shellrunner"===n.mode)){var e=[n.onOutput(w),n.onStateChanged(Z)];return function(){e.forEach((function(e){return e()}))}}}),[p,t,n,w,Z]),{hasAccessToChatDebugger:p,parsedError:c,clearDebug:s}}({runner:o}),M=G.hasAccessToChatDebugger,K=G.parsedError,J=G.clearDebug,ee=(0,s.T3)(),ne=M&&Boolean(K);m.useEffect((function(){return function(){J()}}),[J]);var te=(0,c.Z)().preferences.accessibleTerminal,re=(0,_.a)();m.useImperativeHandle(n,(function(){return{write:function(e){N?N.write(e):O((function(n){return n+e.replace(/\n/g,"\n\r")}))},clear:function(){N&&N.clear()},focus:function(){N&&N.focus()}}}));var ie=(0,p.Z)(d.y.Output);return(0,i.BX)(f.G,{css:[L.EA.container,re],onKeyDown:function(e){"f"===e.key&&(0,l.j)(e)&&!e.shiftKey&&(U(!0),e.preventDefault())},innerRef:ie,children:[(0,i.BX)(f.G,{css:Y,children:[(0,i.BX)(f.G,{css:X,className:"controls",children:[q&&N?(0,i.tZ)(H.R,{findPrevious:N.findPrevious,findNext:N.findNext,exit:function(){return U(!1)}}):(0,i.tZ)(Q.l,{onClick:function(){return U(!0)}}),(0,i.tZ)(z.Z,{onClick:function(){N&&(N.clear(),N.focus(),J())}})]}),ne&&E?(0,i.tZ)($,{clearDebug:J,parsedError:K,openPane:E}):null]}),te?null:(0,i.tZ)(a.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,i.tZ)(f.G,{css:ee?L.EA.xterm:L.EA.xtermWithBorderRadius,innerRef:P}),Z?(0,i.tZ)(W,{initialRunState:o.getRunState(),onBootStatus:Z}):null]})};function $(e){var n=e.clearDebug,t=e.parsedError,r=e.openPane,o=(0,U.ql)();return(0,i.tZ)(f.G,{css:K,children:(0,i.tZ)(F,{onClick:function(){t&&(r({type:"ghostwriterChat"}),o({chatMessage:{type:"debugger",errorType:"console",text:(0,q.Vh)(t,"debugger")}}),n())}})})}var ee=m.forwardRef(J)},27495:function(e,n,t){t.d(n,{N2:function(){return I},St:function(){return k},EA:function(){return A}});var r=t(2272),i=t(74985),o=t(50959),a=t(43312),u=t(252),c=t(60447),l=t(33358),s=t(42256),d=t(17074),f=t(28229),h=t(9348),p=t(82568),v=t(39541),g=t(85368),m=t(77511),y=t(96957),b=t(69921),x=t(625),w=t(99063),Z=t(90171),E=t(88161),T=t(12171),S=t(70232);function C(e){var n=e.sendInput,t=e.paste,r=(0,Z.useRouter)(),i=(0,m.Vg)(r);(0,o.useEffect)((function(){if(i){var e=function(e){(0,T.gN)(e,(function(e){var r,i,o,a=e.type;switch(a){case E.cF.SHELL_INSERT_INPUT:i=e.id,o=e.input,n(o)?(0,T.gU)(i):(0,T.pl)(i);break;case E.cF.SHELL_COMMAND:"unknown"===(r=e.command)||(0,S.Z)(r);break;case E.cF.SHELL_PASTE_TEXT:t(e.text)?(0,T.gU)(e.id):(0,T.pl)(e.id);break;default:(0,S.Z)(a)}}))};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}}),[i,n,t])}var R=t(49514);function k(e){var n,t=e.onShellKey,i=e.container,a=(0,r.Z)((0,h.Z)(),2),u=a[0],c=a[1],l=(0,b.Z)({service:"shell",container:i}),s=(0,R.K)({channelId:null===l||void 0===l||null===(n=l.channel)||void 0===n?void 0:n.id}),d="",f="",p="",v=o.useCallback((function(e){if(!l.channel||!u)return!1;var n=i.client();if(!l.channel||"open"!==l.channel.status||n.getConnectionState()!==y.em.CONNECTED)return!1;var t=(0,w.I)(e);return l.channel.send({input:t}),!0}),[u,l,i]);return C({sendInput:v,paste:function(e){return!!u&&(u.paste(e),!0)}}),o.useEffect((function(){if(l.channel&&u&&"open"===l.channel.status){var e=u.onKey((function(e){var n=e.key,r=e.domEvent;if("\r"===n){(0,x.j)(x.U3.SHELL_COMMAND_EVALED,{context:d});var i=f;f.endsWith(d)&&d.length>0&&(i=f.slice(0,-d.length)),s("user:shell:output:clean",{output:i,command:p}),s("user:shell:exec",{command:d}),s("user:shell:output",{output:f}),p=d,d="",f=""}else d+=n;t&&t(r)})),n=i.client(),r=u.onData((function(e){v(e)}));l.channel.onCommand((function(e){e.hint?u.write("\x1b[0m\x1b[33m".concat(e.hint.text,"\x1b[0m\r\n")):e.output&&(u.write(e.output),f+=e.output)}));var o=function(){l.channel&&"open"===l.channel.status&&n.getConnectionState()===y.em.CONNECTED&&l.channel.send({resizeTerm:u.getSize()})},a=u.onResize(o);return o(),function(){e.dispose(),r.dispose(),a.dispose()}}}),[l.channel,u,t,i,v]),[u,c]}var D=(0,a.iv)([v.l0.height("100%"),v.l0.overflow("hidden"),{"& .xterm":[v.l0.pl(8),v.l0.pt(8),v.l0.pb(4),v.l0.height("100%")]}]),A=(0,p.X)({container:[v.l0.coverContainer,{"&:focus-within .controls":{opacity:1}}],xterm:D,xtermWithBorderRadius:[D,{"& .xterm-viewport":[v.l0.borderRadius(0,0,8,8)]}]});function I(e){var n=e.shell,t=e.shellRef,a=e.className,p=(0,f.Z)().preferences.accessibleTerminal,y=(0,r.Z)(o.useState(!1),2),b=y[0],x=y[1],w=b&&n?(0,i.tZ)(u.R,{findPrevious:n.findPrevious,findNext:n.findNext,exit:function(){return x(!1)}}):(0,i.tZ)(c.l,{onClick:function(){return x(!0)}}),Z=(0,h.a)(),E=(0,m.T3)();return(0,i.BX)(g.G,{className:a,css:[A.container,Z],onKeyDown:function(e){"f"===e.key&&(0,s.j)(e)&&(x(!0),e.preventDefault())},children:[!p&&(0,i.tZ)(d.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,i.tZ)(g.G,{css:E?A.xterm:A.xtermWithBorderRadius,innerRef:t}),n?(0,i.BX)(g.G,{className:"controls",css:[v.l0.position.absolute,v.l0.flex.row,v.l0.top(8),v.l0.right(8),v.l0.height(30),v.l0.align.center,{opacity:0,zIndex:4}],children:[w,(0,i.tZ)(l.Z,{onClick:n.clear})]}):(0,i.tZ)("code",{css:[v.l0.color.foregroundDimmest,v.l0.coverContainer,v.l0.p(8)],children:"Loading..."})]})}},79686:function(e,n,t){t.d(n,{Z:function(){return B}});var r=t(57135),i=t(2272),o=t(96583),a=t(74985),u=t(48306),c=t.n(u),l=t(50959),s=t(88254),d=t(48468),f=t(625),h=t(34489),p=t(87861),v=t(63064),g=t(32104),m=t(2041),y=t(89025),b=t(82568),x=t(39541),w=t(85368),Z=t(25198),E=t(45510),T=t(48667),S=t(88541),C=t(48330),R=t(63763),k=t(97807),D=t(90171),A=t(72006),I=t(43119),N=t(71440),P=t(89649);function O(){var e=(0,I.Z)(["\n  query WorkspaceVncOutput($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        slug\n        owner {\n          ... on Team {\n            id\n            username\n          }\n          ... on User {\n            id\n            username\n          }\n        }\n      }\n    }\n  }\n"]);return O=function(){return e},e}var F={},_=(0,N.Ps)(O());var q,U=t(33594),L=t(47900);!function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected",e.Errored="Errored"}(q||(q={}));var z="VNC_PASSWORD";function j(e){var n,t=function(e){var n=(0,A.Z)({},F,e);return P.a(_,n)}({skip:e.skip,variables:{replId:(0,C.Z)()}}).data,r="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null,i=null===r||void 0===r||null===(n=r.owner)||void 0===n?void 0:n.username;return r&&i?function(e){var n=e.replSlug,t=e.username,r=(0,k.Z)()?R.js:R.ck,i=(0,R.mZ)(r);return"".concat(i,"//").concat(n,"--").concat(t,".").concat(r)}({username:i,replSlug:r.slug}):null}function B(e){var n=e.fs,u=e.container,b=(0,i.Z)(l.useState(null),2),x=b[0],w=b[1],Z=(0,i.Z)(l.useState(void 0),2),E=Z[0],T=Z[1],k=(0,i.Z)(l.useState(!1),2),A=k[0],I=k[1],N=(0,i.Z)(l.useState(q.Connecting),2),P=N[0],O=N[1],F=(0,i.Z)(l.useState(null),2),_=F[0],U=F[1],L=(0,i.Z)(l.useState(!1),2),B=L[0],G=L[1],W=(0,i.Z)(l.useState(!1),2),Q=W[0],H=W[1],V=(0,i.Z)(l.useState(null),2),X=V[0],K=V[1],Y=l.useRef(0),J=(0,v.Z)(),$=(0,S.P5)({controlName:"flag-vnc-error-status",logFlagToAnalytics:!1}),ee=(0,S.P5)({controlName:"flag-vnc-dash-url",logFlagToAnalytics:!1}),ne=(0,D.useRouter)().pathname,te=ee&&("/replEnvironmentDesktop"===ne||"/replEnvironmentMobile"===ne),re=j({skip:!te});(0,f.j)(f.U3.VNC_OPENED),l.useEffect((function(){if(re){if(u.getConnectionState()!==p.em.CONNECTED)return u.onConnectionStateChanged((function(e){e===p.em.CONNECTED&&re&&K(re)}));if(!re)return;K(re)}}),[u,re]),l.useEffect((function(){if(!te){if(u.getConnectionState()!==p.em.CONNECTED)return u.onConnectionStateChanged((function(e){e===p.em.CONNECTED&&u.getVncUrl().then((function(e){return K(e)}))}));u.getVncUrl().then((function(e){return K(e)}))}}),[u,re]);var ie=(0,i.Z)(l.useState(null),2),oe=ie[0],ae=ie[1],ue=l.useRef((function(){return null}));l.useEffect((function(){ue.current()}),[oe]);var ce=(0,d.Z)((function(e){return ae(e.width&&e.height?{width:e.width,height:e.height}:null)}),{type:"throttle",wait:100}),le=l.useRef((function(e){}));l.useEffect((function(){le.current(Q)}),[Q]),l.useEffect((function(){if(!x){var e=!1;return t.e(994).then(t.bind(t,30994)).then((function(n){e||w(n)})),function(){e=!0}}}),[x]),l.useEffect((function(){$||P===q.Disconnected&&setTimeout((function(){J.current&&O(q.Connecting)}),Math.random()*(Math.pow(2,Y.current)-1)*1e3)}),[P,J,$]),l.useEffect((function(){if($&&P===q.Disconnected){var e=setTimeout((function(){O(q.Connecting)}),Math.random()*(Math.pow(2,Y.current)-1)*1e3);return function(){clearTimeout(e)}}}),[P,J,$]);var se=(0,C.Z)();l.useEffect((function(){if(X&&_&&x&&P===q.Connecting){Y.current++;var e=x.default,t=u.getConnectionMetadata(),i={credentials:{username:null===t||void 0===t?void 0:t.token,password:E||""}};(0,f.j)(f.U3.VNC_CONNECTED);var a=new e(_,X,i);a.scaleViewport=!0,a.resizeSession=!0;var c=function(){J.current&&(Y.current=0,O(q.Connected))},l=function(e){var n=e.detail.capabilities.audio;G(void 0!==window.MediaSource&&!!n)},d=function(e){if(ue.current=function(){return null},le.current=function(e){},a.removeEventListener("securityfailure",p),a.removeEventListener("disconnect",d),a.removeEventListener("capabilities",l),a.removeEventListener("connect",c),J.current){if($&&!e.detail.clean){var n=u.getConnectionMetadata(),t=n?(0,R.he)(n.token):null;return(0,f.j)(f.U3.VNC_ERRORED,{vncUrl:X,replId:se,cluster:null===t||void 0===t?void 0:t.cluster}),void O(q.Errored)}O(q.Disconnected)}},p=function(){if(J.current){var e=function(){I(!0)},t=function(){var t=(0,r.Z)((function(){var t,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,n.readFile(".env")];case 1:return t=o.sent(),J.current?t.error?(e(),[2]):(r=t.content.toString("utf8"),i=h.Z.parse(r),z in i?(T(i.VNC_PASSWORD),[2]):(e(),[2])):[2]}}))}));return function(){return t.apply(this,arguments)}}();t().catch((function(e){return s.Tb(e)}))}};return a.addEventListener("connect",c),a.addEventListener("capabilities",l),a.addEventListener("disconnect",d),a.addEventListener("securityfailure",p),ue.current=function(){return a._windowResize()},G(!1),H(!1),le.current=function(n){n?((0,f.j)(f.U3.VNC_AUDIO_ENABLED),a.enableAudio(2,window.MediaSource.isTypeSupported("audio/webm;codecs=opus")?e.audioCodecs.OpusWebM:e.audioCodecs.MP3,32768)):a.disableAudio()},function(){J.current||(ue.current=function(){return null},le.current=function(e){},a.removeEventListener("securityfailure",p),a.removeEventListener("disconnect",d),a.removeEventListener("capabilities",l),a.removeEventListener("connect",c),a.disconnect())}}}),[x,_,u,X,n,E,P,J,$,se]);var de="vnc-output-".concat(P.toLowerCase());return(0,a.BX)("div",{className:"jsx-612fb0831fb3a82c vnc",children:[B?(0,a.BX)("label",{className:"jsx-612fb0831fb3a82c vnc-audio",children:["\ud83c\udfa7"," ",(0,a.tZ)("input",{type:"checkbox",checked:Q,onChange:function(e){return H(e.target.checked)},className:"jsx-612fb0831fb3a82c"})]}):null,(0,a.tZ)("div",{ref:function(e){ce(e),U(e)},"data-cy":de,className:"jsx-612fb0831fb3a82c vnc-target"}),P===q.Connecting||P===q.Disconnected?(0,a.tZ)("div",{className:"jsx-612fb0831fb3a82c vnc-overlay",children:(0,a.tZ)(g.Z,{size:32})}):null,P===q.Errored?(0,a.tZ)(M,{vncUrl:X,onRetry:function(){return O(q.Connecting)}}):null,(0,a.tZ)(m.u,{isOpen:A,onRequestClose:function(){return I(!1)},children:(0,a.tZ)(y.Z,{prompt:"Password",desc:"The output is password protected, please input it",placeholder:"password",type:"text",onCancel:function(){return I(!1)},onConfirm:function(e){T(e),I(!1)}})}),(0,a.tZ)(c(),{id:"612fb0831fb3a82c",children:".vnc.jsx-612fb0831fb3a82c{position:relative}.vnc.jsx-612fb0831fb3a82c,.vnc-target.jsx-612fb0831fb3a82c{height:100%;width:100%}.vnc-audio.jsx-612fb0831fb3a82c{position:absolute;bottom:0;right:0;padding:.2em}.vnc-overlay.jsx-612fb0831fb3a82c{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,.85);color:var(--white)}"})]})}var G=(0,b.X)({root:[x.l0.coverContainer,x.l0.center,x.l0.p(16)],inner:[x.l0.colWithGap(8),x.l0.width(250)],diagnosisContent:[x.l0.py(8)]});function M(e){var n=e.vncUrl,t=e.onRetry,r=null;if(n){var i=new URL("wss://10622591-6a32-44be-aa89-1421705f33ea.id.repl.co").hostname;r=(0,a.tZ)(U.Q,{headerContent:"Diagnosis",children:(0,a.tZ)(w.G,{css:[G.diagnosisContent],children:(0,a.tZ)(L.ZP,{children:"Open this link and check if you can visit this URL from your browser:\n[".concat(i,"](https://").concat(i,").\n          \nIf you see a browser error, it's possible that your ISP have security settings blocking the URL. Please contact your ISP and ask them to unblock the URL above. Here are the support links for common ISPs:\n- [Xfinity](https://www.xfinity.com/support/articles/report-blocked-website)\n- [Spectrum.net](https://www.spectrum.net/support/forms/unblock_site)\n")})})})}return(0,a.tZ)(w.G,{css:G.root,children:(0,a.BX)(w.G,{css:G.inner,children:[(0,a.tZ)(Z.E,{colorway:"warning",text:"There was an error connecting to the server"}),r,(0,a.tZ)(E.zx,{iconLeft:(0,a.tZ)(T.Z,{}),text:"Try again",onClick:t})]})})}},10507:function(e,n,t){t.d(n,{aG:function(){return b},tv:function(){return x},pu:function(){return y}});var r=t(57370),i=t(24746),o=t(2272),a=t(9970),u=t(50959),c=t(83344);var l=t(45285),s=t(4821),d=t(72006),f=t(43119),h=t(71440),p=t(89649);function v(){var e=(0,f.Z)(["\n  query WorkspaceActiveUsers($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return v=function(){return e},e}var g={},m=(0,h.Ps)(v());function y(e){var n=function(e){var n=(0,d.Z)({},g,e);return p.a(m,n)}({variables:{userIds:e.slice(0,s.I)},skip:0===e.length}).data;return n?new Map(n.usersByIds.map((function(e){return[e.id,e.image]}))):null}function b(){var e=function(){var e=(0,l.Z)().presence,n=(0,i.Z)({presence:e}),t=(0,r.d)();return n.filter((function(e){return e.id!==t}))}(),n=y(e.map((function(e){return e.id}))),t=[],o=!0,a=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value;t.push({id:d.id,username:d.username,color:d.color,image:null===n||void 0===n?void 0:n.get(d.id)})}}catch(f){a=!0,u=f}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}return t}function x(e){var n=(0,l.Z)().presence,t=b(),r=function(e){var n=e.presence,t=e.path,r=n.getPathToUserIds().get(t)||[],i=(0,o.Z)(u.useState(r),2),l=i[0],s=i[1];return u.useEffect((function(){s(n.getPathToUserIds().get(t)||[]);var e=n.onActiveUsersChange((function(e){s((function(n){return n.filter((function(n){return e.some((function(e){return n===e.id}))}))}))})),r=n.onUserOpenedFile((function(e){var n=e.user,r=e.file;r&&(t===r||(0,c.yr)(t,r))?s((function(e){return e.includes(n.id)?e:(0,a.Z)(e).concat([n.id])})):s((function(e){return e.filter((function(e){return e!==n.id}))}))}));return function(){e(),r()}}),[n,t]),l}({path:e,presence:n});return t.filter((function(e){return r.includes(e.id)}))}},69834:function(e,n,t){t.d(n,{T:function(){return y},W:function(){return b}});var r=t(57135),i=t(2272),o=t(96583),a=t(91926),u=t(20575),c=t(4561),l=t(12583),s=t(95832),d=t(43119),f=t(71440);function h(){var e=(0,d.Z)(["\n  query LoadDefaultFile($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return h=function(){return e},e}var p=(0,f.Ps)(h());var v=t(87978),g=".replit",m="replit.nix";function y(e,n){var t=n.startsWith("nix"),r=t?null:a.Z.getMainFileName(n);if(r&&a.Z.usesInterpreter(n)&&e.includes(r))return r;if(e.includes("Makefile"))return"Makefile";if(r&&e.includes(r))return r;if(!t&&e.includes(g))return".replit";var i=e.find(v.gK);return i||e.find((function(e){return(!t||![g,m].includes(e))&&!(0,u.C)(e)}))}function b(e){return x.apply(this,arguments)}function x(){return x=(0,r.Z)((function(e){var n,t,a,u,d,f,h,g,m,b,x,w,Z;function E(){return T.apply(this,arguments)}function T(){return T=(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return(e=null===g||void 0===g?void 0:g.entrypoint)?(0,v.Il)(e)?[4,t.stat(e)]:[2,x.includes(e)?e:null]:[2,null];case 1:return[2,(n=r.sent()).exists&&n.type===c.Tv.File?e:null]}}))})),T.apply(this,arguments)}return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(n=e.dotReplit,t=e.fs,a=e.replId,!s.l)throw new Error("Expected apollo client");return[4,Promise.all([s.l.query({query:p,variables:{replId:a}}),t.readDir(l.Ql),n.getConfig()])];case 1:if(u=i.Z.apply(void 0,[r.sent(),3]),d=u[0].data,f=u[1],h=u[2],g=h.config,!f||f.error)throw new Error("Could not read files");return m=f.children,b=m.find((function(e){return e.type===c.Tv.File&&e.filename.toLowerCase().endsWith("readme.md")})),x=m.filter((function(e){return e.type===c.Tv.File})).map((function(e){return e.filename})),[4,E()];case 2:return(w=r.sent())?[2,{entrypoint:w,readmeFile:null===b||void 0===b?void 0:b.filename}]:(Z="Repl"===d.repl.__typename?d.repl.language:"",[2,{entrypoint:y(x,Z),readmeFile:null===b||void 0===b?void 0:b.filename}])}}))})),x.apply(this,arguments)}},86785:function(e,n,t){function r(e){var n=document.createElement("canvas"),t=n.getContext("2d");if(n.width=e.width,n.height=e.height,!t)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(r){var i=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return t.putImageData(i,0,0),n.toDataURL()}))}}function i(e){return new Promise((function(n,t){var r=new window.Image;r.src=e,r.onload=function(){n(r)},r.onerror=t}))}function o(e){return new Promise((function(n,t){Promise.all(e.frames.map(i)).then((function(r){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(o){var a=r.map((function(n){return o.drawImage(n,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));n({frames:a,preview:e.frames[0],width:e.width,height:e.height})}else t(new Error("failed to get canvas ctx"))})).catch(t)}))}t.d(n,{C:function(){return r},u:function(){return o}})},43746:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(625);function i(e){(0,r.j)(r.U3.FILETREE_USED,e)}},80906:function(e,n,t){t.d(n,{NH:function(){return c},Qt:function(){return s},R3:function(){return l},_s:function(){return o},p5:function(){return d}});var r=t(42445),i=t(42082),o=(0,r.cn)(null),a=(0,r.cn)((function(e){var n=e(o);return(null===n||void 0===n?void 0:n.isVisible)?n.path:null})),u=(0,r.cn)(null,(function(e,n,t,r){switch(r.type){case"focus":return void n(o,{hasFocus:!0,isVisible:!0,position:r.position,path:t});case"update":return void n(o,{hasFocus:r.hasFocus,isVisible:!0,position:r.position,path:t});case"blur":var i;return void n(o,(function(e){return{hasFocus:!1,isVisible:Boolean(null===e||void 0===e?void 0:e.isVisible),position:null!==(i=null===e||void 0===e?void 0:e.position)&&void 0!==i?i:{line:1,column:1,offset:0},path:t}}));case"unmount":return void n(o,null);case"hidden":var a;return void n(o,(function(e){return{hasFocus:!1,isVisible:!1,position:null!==(a=null===e||void 0===e?void 0:e.position)&&void 0!==a?a:{line:1,column:1,offset:0},path:t}}));case"unhidden":var u;return void n(o,(function(e){return{hasFocus:Boolean(null===e||void 0===e?void 0:e.hasFocus),isVisible:!1,position:null!==(u=null===e||void 0===e?void 0:e.position)&&void 0!==u?u:{line:1,column:1,offset:0},path:t}}))}}));function c(){return(0,i.$X)(u)}function l(){return(0,i.Hg)(a)}function s(){return(0,i.XD)(o)}function d(){return(0,i.yL)(o)}},13716:function(e,n,t){t.d(n,{eA:function(){return P},_s:function(){return S._s},ex:function(){return v},zo:function(){return b},t9:function(){return I},R3:function(){return S.R3},pV:function(){return m},Qt:function(){return S.Qt},AA:function(){return x},Y_:function(){return Z},b2:function(){return D},ev:function(){return E},Bx:function(){return y},VX:function(){return g},OM:function(){return N},Cp:function(){return k},_o:function(){return T},Gg:function(){return p},QH:function(){return w}});var r=t(74985),i=t(42082),o=t(9970),a=t(92153),u=t(42445),c=t(18171),l=(0,u.cn)(null),s=(0,u.cn)([]),d=(0,u.cn)(null,(function(e,n,t){var r=e(s),i=[t].concat((0,o.Z)(r.filter((function(e){return e!==t})))).slice(0,20);n(s,i)})),f=(0,u.cn)(null,(function(e,n,t){var r=e(s),i=r.indexOf(t.path);-1!==i&&n(s,(0,a.ZP)(r,(function(e){"delete"===t.type?e.splice(i,1):e.splice(i,1,t.to)})))})),h=(0,u.cn)(null);function p(){return(0,i.$X)(f)}function v(){return(0,i.Hg)(l)}function g(){return(0,i.$X)(l)}function m(){return(0,i.XD)(l)}function y(){return(0,i.Hg)(s)}function b(){return(0,i.$X)(d)}function x(){return(0,i.XD)(s)}function w(){var e=(0,i.yL)(l);return(0,c.Z)((function(){return function(n){return e.subscribe(n)}}),[e])}function Z(){return(0,i.yL)(l)}function E(){return(0,i.Hg)(h)}function T(){return(0,i.$X)(h)}var S=t(80906),C=(0,u.cn)({chat:"unread"}),R=(0,u.cn)(null,(function(e,n,t){n(C,(function(e){return(0,a.ZP)(e,(function(e){t.indicatorType?e[t.paneType]=t.indicatorType:delete e[t.paneType]}))}))}));function k(){return(0,i.$X)(R)}function D(e){var n=e.paneType;return(0,i.Hg)(function(e){var n=e.paneType;return(0,c.Z)((function(){return(0,u.cn)((function(e){return n?e(C)[n]:void 0}))}),[n])}({paneType:n}))}var A=(0,t(23457).O4)("areHiddenFilesVisible",!1);function I(){return(0,i.Hg)(A)}function N(){return(0,i.$X)(A)}function P(e){var n=(0,i.ns)();return(0,r.tZ)(i.B3.Provider,{value:n,children:e.children})}},42082:function(e,n,t){t.d(n,{$X:function(){return h},B3:function(){return l},Hg:function(){return d},XD:function(){return p},ns:function(){return c},yL:function(){return f}});var r=t(50959),i=t(42445),o=t(33523),a=t(2749),u=t(13525);function c(){return(0,r.useState)((function(){return(0,i.MT)()}))[0]}var l=(0,r.createContext)(null);function s(){var e=(0,r.useContext)(l);if(!e)throw new Error("Expected store in context");return e}function d(e){return(0,o.Dv)(e,{store:s()})}function f(e){return(0,u.b)(e,s())}var h=function(e){return(0,o.b9)(e,{store:s()})};function p(e){return(0,a.lV)((0,r.useCallback)((function(n){return n(e)}),[e]),{store:s()})}},9348:function(e,n,t){t.d(n,{Z:function(){return L},a:function(){return _.a}});var r,i=t(57135),o=t(2272),a=t(96583),u=t(94716),c=t(28229),l=t(60566),s=t(38598),d=t(1468),f=t(13424),h=t(50959),p=t(48468),v=t(30826);var g=t.n(v)()((function(){if("undefined"!==typeof AudioContext){var e=(r||(r=new AudioContext),r),n=e.createBufferSource();e.decodeAudioData(function(e){for(var n=window.atob(e),t=n.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=n.charCodeAt(i);return r.buffer}("SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),(function(t){n.buffer=t,n.connect(e.destination),n.start(0)}))}}),500,{leading:!0,trailing:!0}),m="replit-icons-font";function y(){if(!document.getElementById(m)){var e=document.createElement("style");e.id=m,e.type="text/css",e.appendChild(document.createTextNode("\n@font-face {\n  font-family: 'replit-icons';\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  src: url(".concat("/public/fonts/replit-icons.woff",") format('woff'),\n    url(").concat("/public/fonts/replit-icons.ttf",") format('truetype');\n}"))),document.head.appendChild(e)}}var b=t(49146),x="BESbswy",w=3e3;function Z(e){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return document.fonts?[4,S(document.fonts,e)]:[3,2];case 1:case 3:return n.sent(),[2];case 2:return[4,Promise.all([R("serif",e),R("sans-serif",e),R("monospace",e)])]}}))}))).apply(this,arguments)}function T(e){var n=e.family,t=e.style,r=void 0===t?"normal":t,i=e.weight,o=void 0===i?"normal":i;return"".concat(r," ").concat(o," 100px ").concat(n)}function S(e,n){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)((function(e,n){var t,r,i,o,u,c;return(0,a.__generator)(this,(function(a){return t=n.fontInfo,r=n.characters,i=void 0===r?x:r,o=n.timeout,u=void 0===o?w:o,c=T(t),[2,new Promise((function(n,r){var o=!1,a=b.kg.timeStart({family:t.family,style:t.style,weight:t.weight}),l=setTimeout((function(){o=!0,a("xterm font loading timed out"),r(new Error("Font loading timed out"))}),u);e.load(c,i).then((function(){o||(a("xterm font loaded"),clearTimeout(l),n())})).catch((function(e){o||(clearTimeout(l),r(e))}))}))]}))}))).apply(this,arguments)}function R(e,n){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((function(e,n){var t,r,i,o,u,c,l,s,d;return(0,a.__generator)(this,(function(a){return t=n.fontInfo,r=n.characters,i=void 0===r?x:r,o=n.timeout,u=void 0===o?w:o,c=T(t),(l=document.createElement("span")).innerText=i,l.style.font="normal normal 100px ".concat(e),l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",document.body.appendChild(l),s=l.offsetWidth,l.style.font=c,(d=function(){return s!==l.offsetWidth})()?[2]:[2,new Promise((function(e,n){var r=setInterval((function(){d()&&(clearInterval(r),clearTimeout(i),document.body.removeChild(l),e())}),50),i=setTimeout((function(){clearInterval(r),document.body.removeChild(l),d()?e():n(new Error("Font loading timed out "+t.family))}),u)}))]}))}))).apply(this,arguments)}function D(e){d.c_.captureException(e)}var A='"ReplitHack"',I=400,N=700,P=String.fromCharCode(61095);function O(){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return y(),[4,Promise.all([Z({fontInfo:{family:"replit-icons"},characters:P}).catch(D),Z({fontInfo:{family:A,weight:I.toString()}}).catch(D),Z({fontInfo:{family:A,weight:I.toString(),style:"italic"}}).catch(D),Z({fontInfo:{family:A,weight:N.toString()}}).catch(D),Z({fontInfo:{family:A,weight:N.toString(),style:"italic"}}).catch(D)])];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}var _=t(60583);function q(){return Promise.all([(0,s.Z)((function(){return t.e(809).then(t.t.bind(t,63776,23))})),(0,s.Z)((function(){return t.e(3214).then(t.t.bind(t,13214,23))})),(0,s.Z)((function(){return t.e(5303).then(t.t.bind(t,75303,23))})),(0,s.Z)((function(){return t.e(3778).then(t.t.bind(t,73778,23))})),(0,s.Z)((function(){return t.e(1561).then(t.t.bind(t,51561,23))})),(0,s.Z)((function(){return t.e(8767).then(t.bind(t,58767))})),(0,s.Z)((function(){return t.e(1725).then(t.t.bind(t,11725,23))})),(0,s.Z)((function(){return t.e(8160).then(t.t.bind(t,98160,23))}))])}function U(){if(function(){if(!/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent))return!1;var e=window.navigator.userAgent.match(/Version\/(\d+)/);return null===e||e.length<2||parseInt(e[1],10)<16}())return!1;var e=document.createElement("canvas").getContext("webgl2");return Boolean(e)}function L(e){var n=(0,h.useState)(null),r=n[0],l=n[1],s=(0,h.useState)(null),v=s[0],m=s[1],y=(0,_.f)(),b=(0,c.Z)().preferences.accessibleTerminal,x=(0,f.uV)(),w=null===e||void 0===e?void 0:e.openFile,Z=null===e||void 0===e?void 0:e.listFiles,E={screenReaderMode:b,fileLinking:(0,h.useMemo)((function(){return w&&Z?{openFile:w,listFiles:Z}:null}),[w,Z]),terminalTheme:y},T=(0,u.Z)(E),S=(0,p.Z)((function(){return null===v||void 0===v?void 0:v.fit()}),{type:"debounce",wait:200}),C=(0,h.useRef)(null);return(0,h.useLayoutEffect)((function(){if(r){var e=[];return function(){return n.apply(this,arguments)}().catch((function(e){e.message&&e.message.toLowerCase().includes("loading chunk")?d.c_.withScope((function(n){n.setExtra("message",e.message),n.setExtra("stack",e.stack),d.c_.captureException(new Error("Loading chunk failed"))})):x({error:e,origin:"Xterm: init"})})),function(){e.forEach((function(e){return e()}))}}function n(){return n=(0,i.Z)((function(){var n,t,i,u,c,l,s,d,f,h,p,v,y,b,x,w;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([q(),O()])];case 1:return n=o.Z.apply(void 0,[a.sent(),1]),t=(0,o.Z)(n[0],8),i=t[0].Terminal,u=t[1].FitAddon,c=t[2].SearchAddon,l=t[3].WebLinksAddon,s=t[4].Unicode11Addon,d=t[5].FileLinkAddon,f=t[6].CanvasAddon,h=t[7].WebglAddon,r?(p=new i({allowProposedApi:!0,cursorBlink:!1,scrollback:1e3,tabStopWidth:4,fontFamily:"".concat(A,', replit-icons, Monaco, "Ubuntu Mono", Consolas, monospace'),fontSize:14,lineHeight:1,fontWeight:I,fontWeightBold:N,drawBoldTextInBrightColors:!1,minimumContrastRatio:4.5,theme:T.current.terminalTheme,screenReaderMode:T.current.screenReaderMode}),T.current.fileLinking?(C.current=new d(T.current.fileLinking.openFile,T.current.fileLinking.listFiles),p.loadAddon(C.current)):C.current=null,v=new u,p.loadAddon(v),y=new l,p.loadAddon(y),b=new c,p.loadAddon(b),x=new s,p.loadAddon(x),p.unicode.activeVersion="11",p.onBell(g),p.open(r),e.push((function(){return p.dispose()})),function(){try{if(!U()){var e=new f;return void p.loadAddon(e)}var n=new h;p.loadAddon(n)}catch(r){var t=new f;p.loadAddon(t)}}(),w=!1,p.attachCustomKeyEventHandler((function(e){return!e.defaultPrevented&&(!!z(p,e)&&("shift"===e.key.toLowerCase()||"ctrl"===e.key.toLowerCase()||"alt"===e.key.toLowerCase()||"meta"===e.key.toLowerCase()||("tab"!==e.key.toLowerCase()||!w)&&(w="escape"===e.key.toLowerCase(),!0)))})),m({onKey:p.onKey.bind(p),onData:p.onData.bind(p),onResize:p.onResize.bind(p),write:p.write.bind(p),fit:function(){var e=r.getBoundingClientRect(),n=e.width,t=e.height;n>0&&t>0&&v.fit()},focus:function(){return p.focus()},clear:function(){return p.clear()},findPrevious:function(e){return b.findPrevious(e)},findNext:function(e){return b.findNext(e)},getSize:function(){return{cols:p.cols,rows:p.rows}},paste:function(e){return p.paste(e)},_term:p}),S(r),[2]):[2]}}))})),n.apply(this,arguments)}}),[r,S,T,x]),function(e,n,r){var i=r.screenReaderMode,o=r.fileLinking,a=r.terminalTheme;(0,h.useEffect)((function(){e&&a&&(e.options.theme=a)}),[e,a]),(0,h.useEffect)((function(){e&&(e.options.screenReaderMode=i)}),[e,i]),(0,h.useEffect)((function(){if(e)if(o){if(!n.current){var r=!1;return t.e(8767).then(t.bind(t,58767)).then((function(t){var i=t.FileLinkAddon;r||(n.current=new i(o.openFile,o.listFiles),e.loadAddon(n.current))})),function(){r=!0}}n.current.update(o.openFile,o.listFiles),n.current.reactivate()}else n.current&&n.current.deactivate()}),[e,o,n])}(null===v||void 0===v?void 0:v._term,C,E),[v,l]}function z(e,n){return!window.navigator.clipboard||("c"!==n.key.toLowerCase()||!n.ctrlKey||!n.shiftKey||("keyup"===n.type&&e.hasSelection()&&(0,l.Z)(e.getSelection()).catch((function(e){d.c_.withScope((function(n){n.setTag("xterm-clipboard",!0),n.setExtra("type","copy"),d.c_.captureException(e)}))})),n.preventDefault(),n.stopPropagation(),!1))}},99063:function(e,n,t){t.d(n,{I:function(){return o}});var r="\x1b[200~",i="\x1b[201~";function o(e){return function(e){return e.startsWith(r)&&e.endsWith(i)}(e)?e.slice(r.length,e.length-i.length):e}},60583:function(e,n,t){t.d(n,{a:function(){return u},f:function(){return c}});var r=t(28737),i=t(23455),o=t(58934),a=t(50959);function u(){var e={};return(0,r.F)().theme.id===i.Dy.id&&(e=(0,o.zL)(i.Sj.values)),e}function c(){var e=(0,r.F)(),n=e.theme,t=e.values;return(0,a.useMemo)((function(){return n.id===i.Dy.id?l(i.Sj.values):l(t)}),[n,t])}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Sj.values;return{foreground:e.global.foregroundDefault,background:e.global.backgroundDefault,cursor:e.global.foregroundDefault,cursorAccent:e.global.backgroundHigher,selectionBackground:e.global.foregroundDefault,black:e.global.backgroundRoot,red:e.global.redStronger,green:e.global.accentPositiveDefault,yellow:e.global.yellowDefault,blue:e.global.blueStronger,magenta:e.global.magentaDefault,cyan:e.global.tealDefault,white:e.global.foregroundDefault,brightBlack:e.global.outlineDimmest,brightRed:e.global.redStrongest,brightGreen:e.global.accentPositiveStronger,brightYellow:e.global.yellowStronger,brightBlue:e.global.blueStrongest,brightMagenta:e.global.magentaStronger,brightCyan:e.global.tealStronger,brightWhite:e.global.foregroundDefault}}},34489:function(e,n,t){function r(e){var n=e.trim();return 0===n.length||n.startsWith("#")}function i(e,n){return e.split(n).length-1}function o(e){if(!e.includes("#"))return e;var n=e.split("#"),t=!1,r=[],o=!0,a=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;(1===i(s,'"')||i(s,"'"))&&(t?(t=!1,r.push(s)):t=!0),(0===r.length||t)&&r.push(s)}}catch(d){a=!0,u=d}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return r.join("#")}function a(e,n){var t=e.trim();if(0===t.length)return t;var r=t.length-1,i='"'===t[0]&&'"'===t[r],o="'"===t[0]&&"'"===t[r];return(o||i)&&(t=t.slice(1,-1)),i&&(t=(t=t.replace(/\\./g,(function(e){return"\\n"===e?"\n":"\\r"===e?"\r":e}))).replace(/\\([^$])/g,"$1")),o||(t=t.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,(function(e){var t=e.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===t)return e;if("\\"===t[1]||"("===t[2])return t[0].slice(1);var r=t[4];return""!==r?n[r]||"":e}))),t}t.d(n,{Z:function(){return c}});var u=t(2272);var c={parse:function(e){var n={},t=e.split(/\n|\r|\r\n/),i=!0,u=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var d=l.value;if(!r(d)){var f=(d=o(d)).indexOf("="),h=d.indexOf(":");if(-1!==h||-1!==f){var p=f;-1!==h&&(h<f||-1===f)&&(p=h);var v=d.slice(0,p).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),g=a(d.slice(p+1),n);n[v]=g}}}}catch(m){u=!0,c=m}finally{try{i||null==s.return||s.return()}finally{if(u)throw c}}return n},serialize:function(e){return Object.entries(e).reduce((function(e,n){var t=(0,u.Z)(n,2),r=t[0],i=t[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e+="".concat(r,'="').concat(i,'"\n')}),"")}}},91046:function(e,n,t){t.d(n,{BP:function(){return a},BY:function(){return i},U4:function(){return r.U4},Vh:function(){return o},fF:function(){return r.fF},tr:function(){return r.tr}});var r=t(97836);function i(e){if(!e)throw new Error("Expected baseUrl");var n;try{n=new URL(e)}catch(t){throw new Error("baseUrl failed to parse as URL")}if("https:"!==n.protocol)throw new Error("baseUrl must use https");return n.href.replace(/\/$/,"")}function o(e,n){return"".concat(i(e),"/").concat(n)}function a(e){return o(e,"extension.json")}},97836:function(e,n,t){t.d(n,{MU:function(){return y},U4:function(){return v},fF:function(){return m},tr:function(){return g}});var r=t(44945),i=t(72963),o=t.n(i),a=t(14723),u=r.z.string({invalid_type_error:"tag must be a string"}).min(1,{message:"tag cannot be an empty string"}).max(64,{message:"tag cannot be longer than 64 characters"}),c=r.z.object({path:r.z.string({required_error:"path is required",invalid_type_error:"path must be a string"}).min(1,{message:"path can't be empty"}),label:r.z.string({required_error:"label is required",invalid_type_error:"label must be a string"}).min(1,{message:"label can't be empty"})}),l=r.z.object({glob:r.z.string({required_error:"glob is required",invalid_type_error:"glob must be a string"}).min(1,{message:"glob can't be empty"}).refine((function(e){return o()(e)}),{message:"glob must be a valid glob pattern"}),handler:r.z.string({required_error:"handler is required",invalid_type_error:"handler must be a string"}).min(1,{message:"handler can't be empty"}),name:r.z.string({required_error:"name is required",invalid_type_error:"name must be a string"}).min(1,{message:"name can't be empty"}).max(60,{message:"name must be 60 characters or shorter"}).nullish(),icon:r.z.string({required_error:"icon is required",invalid_type_error:"icon must be a string"}).min(1,{message:"icon can't be empty"}).nullish()}),s=r.z.object({handler:r.z.string({required_error:"handler is required",invalid_type_error:"handler must be a string"}).min(1,{message:"handler can't be empty"}),name:r.z.string({required_error:"name is required",invalid_type_error:"name must be a string"}).nullish(),icon:r.z.string({required_error:"icon is required",invalid_type_error:"icon must be a string"}).nullish()}),d=r.z.enum(a.l,{errorMap:function(e,n){return"invalid_enum_value"===e.code?{message:"The scopes available are: ".concat(a.l.join(", "))}:{message:n.defaultError}}}),f=r.z.object({name:d,reason:r.z.string({required_error:"reason is required",invalid_type_error:"reason must be a string"})}),h=r.z.object({page:r.z.string({required_error:"page is required",invalid_type_error:"page must be a string"})}),p=r.z.object({name:r.z.string({required_error:"name is required",invalid_type_error:"name must be a string"}).min(1,{message:"name can't be empty"}).max(60,{message:"name must be 60 characters or shorter"}),description:r.z.string({required_error:"description is required",invalid_type_error:"description must be a string"}).min(1,{message:"description can't be empty"}).max(255,{message:"description must be 255 characters or shorter"}),scopes:r.z.array(f).nullish(),longDescription:r.z.string({required_error:"longDescription is required",invalid_type_error:"longDescription must be a string"}).min(1,{message:"longDescription can't be empty"}).nullish(),icon:r.z.string({required_error:"icon is required",invalid_type_error:"icon must be a string"}).min(1,{message:"icon can't be empty. Omit the field instead."}).nullish(),tags:r.z.array(u).max(16,{message:"tags must have length 16 or lower"}).nullish(),coverImages:r.z.array(c).max(16,{message:"coverImages must have length 4 or lower"}).nullish(),fileHandlers:r.z.array(l).max(4,{message:"We are currently limiting extensions to have 4 fileHandlers at maximum. Reach out to us if you need more."}).nullish().refine((function(e){return!e||(e.length<2||e.every((function(e){return e.name&&e.icon})))}),{message:"When two fileHandlers are provided, they must specify a name and icon"}),tools:r.z.array(s).max(4,{message:"We are currently limiting extensions to have 4 tools at maximum. Reach out to us if you need more."}).nullish().refine((function(e){return!e||(e.length<2||e.every((function(e){return e.name&&e.icon})))}),{message:"When two tools are provided, they must specify a name and icon"}),website:r.z.string().url().nullish(),authorEmail:r.z.string().email().nullish(),background:h.nullish()});function v(e){var n=p.safeParse(e);return n.success?{manifest:n.data,error:null}:{manifest:null,error:n.error}}function g(e){var n=v(e);if(n.manifest)return n.manifest;throw n.error}function m(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:null!==(e=t.name)&&void 0!==e?e:"Unnamed Extension",description:null!==(n=t.description)&&void 0!==n?n:"(no description)"}}function y(e,n){return!!e.scopes&&void 0!==e.scopes.find((function(e){return e.name===n}))}},14723:function(e,n,t){t.d(n,{k:function(){return r},l:function(){return i}});var r=[{key:"read",friendlyName:"Read files",description:"Read any file in your Repl"},{key:"write-exec",friendlyName:"Write & Execute",description:"Write to any file in your Repl and execute any code"},{key:"repldb:read",friendlyName:"ReplDB Read",description:"Read any key, or list all keys under any prefix in the repldb belonging to your Repl"},{key:"repldb:write",friendlyName:"ReplDB Write",description:"Write or delete any key in the repldb belonging to your Repl"},{key:"experimental-api",friendlyName:"Experimental APIs",description:"Use experimental APIs that may be unstable, change in behavior, or be removed entirely"}];var i=r.map((function(e){return e.key}))},4821:function(e,n,t){t.d(n,{I:function(){return i},z:function(){return r}});var r=100,i=250},67121:function(e,n,t){t.d(n,{G:function(){return r},Z:function(){return a}});var r,i=t(2272);!function(e){e.NotFound="NotFound",e.NotAllowed="NotAllowed",e.ConcurrentReplLimit="ConcurrentReplLimit",e.FirewallDenied="FirewallDenied",e.LanguageTokenDenied="LanguageTokenDenied"}(r||(r={}));var o={"repl not found":r.NotFound,"not allowed to run at this time":r.NotAllowed,"language tokens are only for logged out people.":r.LanguageTokenDenied,"connect to unfirewalled repl from firewall mode":r.FirewallDenied};function a(e){var n=!0,t=!1,r=void 0;try{for(var a,u=Object.entries(o)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=(0,i.Z)(a.value,2),l=c[0],s=c[1];if(e.message.toLowerCase().includes(l))return s}}catch(d){t=!0,r=d}finally{try{n||null==u.return||u.return()}finally{if(t)throw r}}return null}},59253:function(e,n,t){t.d(n,{MF:function(){return c},TI:function(){return u},lv:function(){return d},uC:function(){return l},yb:function(){return s}});var r=t(91926),i=t(87978),o=t(12583),a=t(26289);function u(e){var n=e.split("/")[0];return n===o.oh||n===o.AS}function c(e){return".env"===e||".breakpoints"===e||".cache"===e||e.startsWith(".cache/")}function l(e){return a.nh.includes(e)}function s(e,n){return Boolean(n&&r.Z.isLangFileBinary(n,e))}function d(e,n){if(!n)return!1;var t=(0,i.Xz)(e),r=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;if(e.match(l))return!0;var s=!0,d=!1,f=void 0;try{for(var h,p=t[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){if(h.value.match(l))return!0}}catch(v){d=!0,f=v}finally{try{s||null==p.return||p.return()}finally{if(d)throw f}}}}catch(v){o=!0,a=v}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return!1}}}]);
//# sourceMappingURL=107-89924414b6c025a9.js.map